
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../glossary/">
      
      
        <link rel="next" href="../base/base/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>INI format - hydrolib-core documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="deltares" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ini-format" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest release version.
<a href="../../..">
    <strong>Click here to go to latest release.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="hydrolib-core documentation" class="md-header__button md-logo" aria-label="hydrolib-core documentation" data-md-component="logo">
      
  <img src="../../images/HYDROLIB_logo_notext_mono_eroded.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            hydrolib-core documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              INI format
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="deltares" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Deltares/hydrolib-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    deltares/hydrolib-core
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/setup/" class="md-tabs__link">
          
  
  
  How-to

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/tutorials/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../topics/dhydro_support/" class="md-tabs__link">
          
  
  
  Topics

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../glossary/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Release notes

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="hydrolib-core documentation" class="md-nav__button md-logo" aria-label="hydrolib-core documentation" data-md-component="logo">
      
  <img src="../../images/HYDROLIB_logo_notext_mono_eroded.svg" alt="logo">

    </a>
    hydrolib-core documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Deltares/hydrolib-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    deltares/hydrolib-core
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pip install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/devcontainers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer container
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/poetry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Poetry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/developers-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/getting-help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to tutorials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/build_basic_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build a basic model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/loading_and_saving_a_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loading and saving a model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/dataframe_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dataframe handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/plotting_a_network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plotting a network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/tutorial_1d2d_fluvial_flood_model_for_magdalena/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial Delft3D FM 1D2D fluvial flood model of Magdalena river
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/tutorial_1d2d_fluvial_flood_model_for_magdalena_with_answers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial Delft3D FM 1D2D fluvial flood model of Magdalena river
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DSD (2023)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            DSD (2023)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/dsd_2023/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HYDROLIB-core guide for the Delft Software Days 2023
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/dsd_2023/demo/demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deltares Software Days 2023: A simple hydrolib-core demo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/dsd_2023/magdalena_workflow/magdalena_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a Delft3D FM 1D2D fluvial flood model of Magdalena river
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DSD (2022)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            DSD (2022)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/dsd_2022_demo/demo_dsd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deltares Software Days 2022: A simple hydrolib-core demo
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    External Forcing Conversion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            External Forcing Conversion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/extforce-convert/external_forcing_conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    extforce-convert Command Line Interface (CLI) Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/dhydro_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    List of D-HYDRO functionalities and support in HYDROLIB-core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    First principles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/pydantic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pydantic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/loadsave/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loading and Saving within HYDROLIB-core
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    INI format
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    INI format
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel" class="md-nav__link">
    <span class="md-ellipsis">
      DataBlockINIBasedModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataBlockINIBasedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.as_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      as_dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.convert_value" class="md-nav__link">
    <span class="md-ellipsis">
      convert_value
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel" class="md-nav__link">
    <span class="md-ellipsis">
      INIBasedModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INIBasedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.Comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.comments_matches_has_comments" class="md-nav__link">
    <span class="md-ellipsis">
      comments_matches_has_comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_delimiter" class="md-nav__link">
    <span class="md-ellipsis">
      get_list_delimiter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_field_delimiter" class="md-nav__link">
    <span class="md-ellipsis">
      get_list_field_delimiter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.replace_fortran_scientific_notation_for_floats" class="md-nav__link">
    <span class="md-ellipsis">
      replace_fortran_scientific_notation_for_floats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.validate" class="md-nav__link">
    <span class="md-ellipsis">
      validate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIModel" class="md-nav__link">
    <span class="md-ellipsis">
      INIModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    <span class="md-ellipsis">
      Parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser" class="md-nav__link">
    <span class="md-ellipsis">
      parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser" class="md-nav__link">
    <span class="md-ellipsis">
      Parser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.feed_line" class="md-nav__link">
    <span class="md-ellipsis">
      feed_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.finalize" class="md-nav__link">
    <span class="md-ellipsis">
      finalize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.parse_as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      parse_as_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.ParserConfig" class="md-nav__link">
    <span class="md-ellipsis">
      ParserConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serializer" class="md-nav__link">
    <span class="md-ellipsis">
      Serializer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer" class="md-nav__link">
    <span class="md-ellipsis">
      serializer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      DataBlockINIBasedSerializerConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataBlockINIBasedSerializerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock" class="md-nav__link">
    <span class="md-ellipsis">
      float_format_datablock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="float_format_datablock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock--format-output-description" class="md-nav__link">
    <span class="md-ellipsis">
      Format | Output | Description
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      INISerializerConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INISerializerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_datablock_indent" class="md-nav__link">
    <span class="md-ellipsis">
      total_datablock_indent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_property_indent" class="md-nav__link">
    <span class="md-ellipsis">
      total_property_indent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths" class="md-nav__link">
    <span class="md-ellipsis">
      MaxLengths
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MaxLengths">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths.from_section" class="md-nav__link">
    <span class="md-ellipsis">
      from_section
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      SectionSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SectionSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.max_length" class="md-nav__link">
    <span class="md-ellipsis">
      max_length
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.serialize" class="md-nav__link">
    <span class="md-ellipsis">
      serialize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.Serializer" class="md-nav__link">
    <span class="md-ellipsis">
      Serializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.Serializer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.Serializer.serialize" class="md-nav__link">
    <span class="md-ellipsis">
      serialize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.write_ini" class="md-nav__link">
    <span class="md-ellipsis">
      write_ini
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    base
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/model-tree-traverser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ModelTreeTraverser
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    D-Flow FM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            D-Flow FM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/mdu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MDU file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/extold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External forcings file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/net/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Net/grid file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/ext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External forcings file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/forcing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forcings .bc file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Structure .ini files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/friction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Friction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/crosssection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cross section files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/storagenode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage node .ini files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/inifield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Initial and parameter field files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/onedfield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1D field INI files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/polyfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Polyline/Polygon Files Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/xyz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/observationpoint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observation point files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/observationcrosssection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observation cross section files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/tim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Timeseries .tim files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DIMR
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            DIMR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/dimr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DIMR xml files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    RainfallRunoff
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            RainfallRunoff
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rr/rr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RainfallRunoff file models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rr/meteo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Rainfall Runoff meteo layer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    GUI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            GUI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GUI files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel" class="md-nav__link">
    <span class="md-ellipsis">
      DataBlockINIBasedModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataBlockINIBasedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.as_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      as_dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.convert_value" class="md-nav__link">
    <span class="md-ellipsis">
      convert_value
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel" class="md-nav__link">
    <span class="md-ellipsis">
      INIBasedModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INIBasedModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.Comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.comments_matches_has_comments" class="md-nav__link">
    <span class="md-ellipsis">
      comments_matches_has_comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_delimiter" class="md-nav__link">
    <span class="md-ellipsis">
      get_list_delimiter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_field_delimiter" class="md-nav__link">
    <span class="md-ellipsis">
      get_list_field_delimiter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.replace_fortran_scientific_notation_for_floats" class="md-nav__link">
    <span class="md-ellipsis">
      replace_fortran_scientific_notation_for_floats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.validate" class="md-nav__link">
    <span class="md-ellipsis">
      validate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.models.INIModel" class="md-nav__link">
    <span class="md-ellipsis">
      INIModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parser" class="md-nav__link">
    <span class="md-ellipsis">
      Parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser" class="md-nav__link">
    <span class="md-ellipsis">
      parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser" class="md-nav__link">
    <span class="md-ellipsis">
      Parser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.feed_line" class="md-nav__link">
    <span class="md-ellipsis">
      feed_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.finalize" class="md-nav__link">
    <span class="md-ellipsis">
      finalize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.Parser.parse_as_dict" class="md-nav__link">
    <span class="md-ellipsis">
      parse_as_dict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.parser.ParserConfig" class="md-nav__link">
    <span class="md-ellipsis">
      ParserConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serializer" class="md-nav__link">
    <span class="md-ellipsis">
      Serializer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer" class="md-nav__link">
    <span class="md-ellipsis">
      serializer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      DataBlockINIBasedSerializerConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataBlockINIBasedSerializerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock" class="md-nav__link">
    <span class="md-ellipsis">
      float_format_datablock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="float_format_datablock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock--format-output-description" class="md-nav__link">
    <span class="md-ellipsis">
      Format | Output | Description
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      INISerializerConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INISerializerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_datablock_indent" class="md-nav__link">
    <span class="md-ellipsis">
      total_datablock_indent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_property_indent" class="md-nav__link">
    <span class="md-ellipsis">
      total_property_indent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths" class="md-nav__link">
    <span class="md-ellipsis">
      MaxLengths
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MaxLengths">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths.from_section" class="md-nav__link">
    <span class="md-ellipsis">
      from_section
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      SectionSerializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SectionSerializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.max_length" class="md-nav__link">
    <span class="md-ellipsis">
      max_length
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.serialize" class="md-nav__link">
    <span class="md-ellipsis">
      serialize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.Serializer" class="md-nav__link">
    <span class="md-ellipsis">
      Serializer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.Serializer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.Serializer.serialize" class="md-nav__link">
    <span class="md-ellipsis">
      serialize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.dflowfm.ini.serializer.write_ini" class="md-nav__link">
    <span class="md-ellipsis">
      write_ini
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ini-format">INI format<a class="headerlink" href="#ini-format" title="Permanent link">&para;</a></h1>
<p>The ini module provides the generic logic for parsing Deltares ini based files, such as the mdu, structures files, as well as more complex files such as the boundary condition (bc) files.</p>
<p>Note that specific attribute files that employ this ini format often have their own dedicated module (and separate API doc page). These include:</p>
<ul>
<li><a href="../models/mdu/">MDU file</a> (<code>hydrolib.core.dflowfm.mdu</code>)</li>
<li><a href="../models/ext/">External forcing file</a> (<code>hydrolib.core.dflowfm.ext</code>)</li>
<li><a href="../models/inifield/">Initial fields and parameter file</a> (<code>hydrolib.core.dflowfm.inifield</code>)</li>
<li><a href="../models/structure/">Structure file</a> (<code>hydrolib.core.dflowfm.structure</code>)</li>
<li><a href="../models/friction/">1D roughness</a> (<code>hydrolib.core.dflowfm.friction</code>)</li>
<li><a href="../models/crosssection/">Cross section files</a> (<code>hydrolib.core.dflowfm.crosssection</code>)</li>
<li><a href="../models/storagenode/">Storage node file</a> (<code>hydrolib.core.dflowfm.storagenode</code>)</li>
</ul>
<p>Following below is the documentation for the INI format base classes.</p>
<h2 id="model">Model<a class="headerlink" href="#model" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="hydrolib.core.dflowfm.ini.models"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel" class="doc doc-heading">
            <code>DataBlockINIBasedModel</code>


<a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="INIBasedModel (hydrolib.core.dflowfm.ini.models.INIBasedModel)" href="#hydrolib.core.dflowfm.ini.models.INIBasedModel">INIBasedModel</a></code></p>


        <p>DataBlockINIBasedModel defines the base model for ini models with datablocks.</p>
<p>This class extends the functionality of INIBasedModel to handle structured data blocks
commonly found in INI files. It provides validation, serialization, and conversion methods
for working with these data blocks.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.datablock">datablock</span></code></td>
            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.models.Datablock">Datablock</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(class attribute) the actual data columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.datablock">datablock</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="float">float</span>, <span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The initial data block for the model. Defaults to an empty list.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a NaN value is found within the data block.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>INIBasedModel: The parent class for models representing INI-based configurations.
INISerializerConfig: Provides configuration for INI serialization.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <p>Create a model and validate its data block:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">hydrolib.core.dflowfm.ini.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataBlockINIBasedModel</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">DataBlockINIBasedModel</span><span class="p">(</span><span class="n">datablock</span><span class="o">=</span><span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">datablock</span><span class="p">)</span>
<span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]]</span>
</code></pre></div></p>
<p>Attempt to create a model with invalid data:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">try</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">model</span> <span class="o">=</span> <span class="n">DataBlockINIBasedModel</span><span class="p">(</span><span class="n">datablock</span><span class="o">=</span><span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">]])</span>
<span class="o">...</span> <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="mi">1</span> <span class="n">validation</span> <span class="n">error</span> <span class="k">for</span> <span class="n">DataBlockINIBasedModel</span>
<span class="n">datablock</span> <span class="o">-&gt;</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="mi">1</span>
  <span class="n">none</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">an</span> <span class="n">allowed</span> <span class="n">value</span> <span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">type_error</span><span class="o">.</span><span class="n">none</span><span class="o">.</span><span class="n">not_allowed</span><span class="p">)</span>
</code></pre></div></p>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>The class includes a validator to ensure that no NaN values are present in the data block.</li>
<li>Data blocks are converted to a serialized format for writing to INI files.</li>
</ul>
</details>





              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DataBlockINIBasedModel</span><span class="p">(</span><span class="n">INIBasedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;DataBlockINIBasedModel defines the base model for ini models with datablocks.</span>

<span class="sd">    This class extends the functionality of INIBasedModel to handle structured data blocks</span>
<span class="sd">    commonly found in INI files. It provides validation, serialization, and conversion methods</span>
<span class="sd">    for working with these data blocks.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        datablock (Datablock): (class attribute) the actual data columns.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        datablock (List[List[Union[float, str]]], optional):</span>
<span class="sd">            The initial data block for the model. Defaults to an empty list.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If a NaN value is found within the data block.</span>

<span class="sd">    See Also:</span>
<span class="sd">        INIBasedModel: The parent class for models representing INI-based configurations.</span>
<span class="sd">        INISerializerConfig: Provides configuration for INI serialization.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Create a model and validate its data block:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from hydrolib.core.dflowfm.ini.models import DataBlockINIBasedModel</span>
<span class="sd">            &gt;&gt;&gt; model = DataBlockINIBasedModel(datablock=[[1.0, 2.0], [3.0, 4.0]])</span>
<span class="sd">            &gt;&gt;&gt; print(model.datablock)</span>
<span class="sd">            [[1.0, 2.0], [3.0, 4.0]]</span>

<span class="sd">            ```</span>

<span class="sd">        Attempt to create a model with invalid data:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; try:</span>
<span class="sd">            ...     model = DataBlockINIBasedModel(datablock=[[1.0, None]])</span>
<span class="sd">            ... except Exception as e:</span>
<span class="sd">            ...     print(e)</span>
<span class="sd">            1 validation error for DataBlockINIBasedModel</span>
<span class="sd">            datablock -&gt; 0 -&gt; 1</span>
<span class="sd">              none is not an allowed value (type=type_error.none.not_allowed)</span>

<span class="sd">            ```</span>

<span class="sd">    Notes:</span>
<span class="sd">        - The class includes a validator to ensure that no NaN values are present in the data block.</span>
<span class="sd">        - Data blocks are converted to a serialized format for writing to INI files.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">datablock</span><span class="p">:</span> <span class="n">Datablock</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="n">_make_lists</span> <span class="o">=</span> <span class="n">make_list_validator</span><span class="p">(</span><span class="s2">&quot;datablock&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_unknown_keyword_error_manager</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UnknownKeywordErrorManager</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The DataBlockINIBasedModel does not need to raise an error on unknown keywords.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[UnknownKeywordErrorManager]: Returns None as unknown keywords are ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">as_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the datablock as a pandas DataFrame</span>

<span class="sd">        - The first number from each list in the block as an index for that row.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DataFrame: The datablock as a pandas DataFrame.</span>

<span class="sd">        Examples:</span>
<span class="sd">                &gt;&gt;&gt; from hydrolib.core.dflowfm.ini.models import DataBlockINIBasedModel</span>
<span class="sd">                &gt;&gt;&gt; model = DataBlockINIBasedModel(datablock=[[0, 10, 100], [1, 20, 200]])</span>
<span class="sd">                &gt;&gt;&gt; df = model.as_dataframe()</span>
<span class="sd">                &gt;&gt;&gt; print(df)</span>
<span class="sd">                        0      1</span>
<span class="sd">                0.0  10.0  100.0</span>
<span class="sd">                1.0  20.0  200.0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datablock</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_to_section</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">DataBlockINIBasedSerializerConfig</span><span class="p">,</span>
        <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Section</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts the current model to an INI Section representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            config (DataBlockINIBasedSerializerConfig): Configuration for serializing the data block.</span>
<span class="sd">            save_settings (ModelSaveSettings): Settings for saving the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Section: The INI Section containing serialized data and the data block.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">section</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_to_section</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>
        <span class="n">section</span><span class="o">.</span><span class="n">datablock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_datablock</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">section</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_to_datablock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DataBlockINIBasedSerializerConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts the data block to a serialized format based on the configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config (DataBlockINIBasedSerializerConfig): Configuration for serializing the data block.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[List]: A serialized representation of the data block.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">converted_datablock</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">datablock</span><span class="p">:</span>
            <span class="n">converted_row</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">DataBlockINIBasedModel</span><span class="o">.</span><span class="n">convert_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">row</span>
            <span class="p">)</span>
            <span class="n">converted_datablock</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">converted_row</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">converted_datablock</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">convert_value</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">DataBlockINIBasedSerializerConfig</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a value in the data block to its serialized string representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Union[float, str]): The value to be converted.</span>
<span class="sd">            config (DataBlockINIBasedSerializerConfig): Configuration for the conversion.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The serialized string representation of the value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">:{</span><span class="n">config</span><span class="o">.</span><span class="n">float_format_datablock</span><span class="si">}}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;datablock&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_no_nans_are_present</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">datablock</span><span class="p">:</span> <span class="n">Datablock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Datablock</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that the datablock does not have any NaN values.</span>

<span class="sd">        Args:</span>
<span class="sd">            datablock (Datablock): The datablock to validate.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: When a NaN is present in the datablock.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Datablock: The validated datablock.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_is_float_and_nan</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">datablock</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">row</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;NaN is not supported in datablocks.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">datablock</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_float_and_nan</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines whether a value is a float and is NaN.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (float): The value to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the value is a NaN float; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="n">isnan</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.as_dataframe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">as_dataframe</span><span class="p">()</span></code>

<a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.as_dataframe" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Convert the datablock as a pandas DataFrame</p>
<ul>
<li>The first number from each list in the block as an index for that row.</li>
</ul>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The datablock as a pandas DataFrame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">hydrolib.core.dflowfm.ini.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataBlockINIBasedModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">DataBlockINIBasedModel</span><span class="p">(</span><span class="n">datablock</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">        0      1</span>
<span class="go">0.0  10.0  100.0</span>
<span class="go">1.0  20.0  200.0</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">as_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the datablock as a pandas DataFrame</span>

<span class="sd">    - The first number from each list in the block as an index for that row.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: The datablock as a pandas DataFrame.</span>

<span class="sd">    Examples:</span>
<span class="sd">            &gt;&gt;&gt; from hydrolib.core.dflowfm.ini.models import DataBlockINIBasedModel</span>
<span class="sd">            &gt;&gt;&gt; model = DataBlockINIBasedModel(datablock=[[0, 10, 100], [1, 20, 200]])</span>
<span class="sd">            &gt;&gt;&gt; df = model.as_dataframe()</span>
<span class="sd">            &gt;&gt;&gt; print(df)</span>
<span class="sd">                    0      1</span>
<span class="sd">            0.0  10.0  100.0</span>
<span class="sd">            1.0  20.0  200.0</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datablock</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.convert_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.models.DataBlockINIBasedModel.convert_value" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Converts a value in the data block to its serialized string representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="float">float</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value to be converted.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DataBlockINIBasedSerializerConfig (hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig)" href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig">DataBlockINIBasedSerializerConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration for the conversion.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The serialized string representation of the value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">convert_value</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">config</span><span class="p">:</span> <span class="n">DataBlockINIBasedSerializerConfig</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts a value in the data block to its serialized string representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Union[float, str]): The value to be converted.</span>
<span class="sd">        config (DataBlockINIBasedSerializerConfig): Configuration for the conversion.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The serialized string representation of the value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">:{</span><span class="n">config</span><span class="o">.</span><span class="n">float_format_datablock</span><span class="si">}}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.models.INIBasedModel" class="doc doc-heading">
            <code>INIBasedModel</code>


<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="../base/api/#hydrolib.core.base.models.BaseModel">BaseModel</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>INIBasedModel defines the base model for blocks/chapters
inside an INIModel (*.ini file).</p>
<ul>
<li>Abstract base class for representing INI-style configuration file blocks or chapters.</li>
<li>This class serves as the foundational model for handling blocks within INI configuration files.
It supports creating instances from parsed INI sections, adding arbitrary fields, and ensuring
well-defined serialization and deserialization behavior. Subclasses are expected to define
specific behavior and headers for their respective INI blocks.</li>
</ul>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.models.INIBasedModel.comments">comments</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="Comments (hydrolib.core.dflowfm.ini.models.INIBasedModel.Comments)" href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.Comments">Comments</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Comments for the model fields. Defaults to None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If unknown fields are encountered during validation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>BaseModel: The Pydantic base model extended by this class.
INISerializerConfig: Provides configuration for INI serialization.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <p>Define a custom INI block subclass:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">hydrolib.core.dflowfm.ini.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">INIBasedModel</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">(</span><span class="n">INIBasedModel</span><span class="p">):</span>
<span class="o">...</span>     <span class="n">_header</span> <span class="o">=</span> <span class="s2">&quot;MyHeader&quot;</span>
<span class="o">...</span>     <span class="n">field_a</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default_value&quot;</span>
</code></pre></div></p>
<p>Parse an INI section:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">hydrolib.core.dflowfm.ini.io_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Section</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">section</span> <span class="o">=</span> <span class="n">Section</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="s2">&quot;MyHeader&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;field_a&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">}])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">flatten</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">field_a</span><span class="p">)</span>
<span class="n">value</span>
</code></pre></div></p>
<p>Serialize a model to an INI format:
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">hydrolib.core.dflowfm.ini.serializer</span><span class="w"> </span><span class="kn">import</span> <span class="n">INISerializerConfig</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">hydrolib.core.base.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelSaveSettings</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">config</span> <span class="o">=</span> <span class="n">INISerializerConfig</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">section</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_to_section</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">save_settings</span><span class="o">=</span><span class="n">ModelSaveSettings</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
<span class="n">MyHeader</span>
</code></pre></div></p>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>Subclasses can override the <code>_header</code> attribute to define the INI block header.</li>
<li>Arbitrary fields can be added dynamically and are included during serialization.</li>
</ul>
</details>





              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">INIBasedModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;INIBasedModel defines the base model for blocks/chapters</span>
<span class="sd">    inside an INIModel (*.ini file).</span>

<span class="sd">    - Abstract base class for representing INI-style configuration file blocks or chapters.</span>
<span class="sd">    - This class serves as the foundational model for handling blocks within INI configuration files.</span>
<span class="sd">    It supports creating instances from parsed INI sections, adding arbitrary fields, and ensuring</span>
<span class="sd">    well-defined serialization and deserialization behavior. Subclasses are expected to define</span>
<span class="sd">    specific behavior and headers for their respective INI blocks.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        comments (Optional[Comments], optional):</span>
<span class="sd">            Comments for the model fields. Defaults to None.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If unknown fields are encountered during validation.</span>

<span class="sd">    See Also:</span>
<span class="sd">        BaseModel: The Pydantic base model extended by this class.</span>
<span class="sd">        INISerializerConfig: Provides configuration for INI serialization.</span>


<span class="sd">    Examples:</span>
<span class="sd">        Define a custom INI block subclass:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from hydrolib.core.dflowfm.ini.models import INIBasedModel</span>
<span class="sd">            &gt;&gt;&gt; class MyModel(INIBasedModel):</span>
<span class="sd">            ...     _header = &quot;MyHeader&quot;</span>
<span class="sd">            ...     field_a: str = &quot;default_value&quot;</span>

<span class="sd">            ```</span>

<span class="sd">        Parse an INI section:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from hydrolib.core.dflowfm.ini.io_models import Section</span>
<span class="sd">            &gt;&gt;&gt; section = Section(header=&quot;MyHeader&quot;, content=[{&quot;key&quot;: &quot;field_a&quot;, &quot;value&quot;: &quot;value&quot;}])</span>
<span class="sd">            &gt;&gt;&gt; model = MyModel.parse_obj(section.flatten())</span>
<span class="sd">            &gt;&gt;&gt; print(model.field_a)</span>
<span class="sd">            value</span>

<span class="sd">            ```</span>

<span class="sd">        Serialize a model to an INI format:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; from hydrolib.core.dflowfm.ini.serializer import INISerializerConfig</span>
<span class="sd">            &gt;&gt;&gt; from hydrolib.core.base.models import ModelSaveSettings</span>
<span class="sd">            &gt;&gt;&gt; config = INISerializerConfig()</span>
<span class="sd">            &gt;&gt;&gt; section = model._to_section(config, save_settings=ModelSaveSettings())</span>
<span class="sd">            &gt;&gt;&gt; print(section.header)</span>
<span class="sd">            MyHeader</span>

<span class="sd">            ```</span>

<span class="sd">    Notes:</span>
<span class="sd">        - Subclasses can override the `_header` attribute to define the INI block header.</span>
<span class="sd">        - Arbitrary fields can be added dynamically and are included during serialization.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_header</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">_file_path_style_converter</span> <span class="o">=</span> <span class="n">FilePathStyleConverter</span><span class="p">()</span>
    <span class="n">_scientific_notation_regex</span> <span class="o">=</span> <span class="nb">compile</span><span class="p">(</span>
        <span class="sa">r</span><span class="s2">&quot;([\d.]+)([dD])([+-]?\d{1,3})&quot;</span>
    <span class="p">)</span>  <span class="c1"># matches a float: 1d9, 1D-3, 1.D+4, etc.</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">ignore</span>
        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_unknown_keyword_error_manager</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UnknownKeywordErrorManager</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the error manager for handling unknown keywords in INI files.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[UnknownKeywordErrorManager]:</span>
<span class="sd">                An instance of the error manager or None if unknown keywords are allowed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">UnknownKeywordErrorManager</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_supports_comments</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indicates whether the model supports comments for its fields.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if comments are supported; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_duplicate_keys_as_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Indicates whether duplicate keys in INI sections should be treated as lists.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if duplicate keys should be treated as lists; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_list_delimiter</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List delimiter string that will be used for serializing</span>
<span class="sd">        list field values for any IniBasedModel, **if** that field has</span>
<span class="sd">        no custom list delimiter.</span>

<span class="sd">        This function should be overridden by any subclass for a particular</span>
<span class="sd">        filetype that needs a specific/different list separator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot; &quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_list_field_delimiter</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">field_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List delimiter string that will be used for serializing</span>
<span class="sd">        the given field&#39;s value.</span>
<span class="sd">        The returned delimiter is either the field&#39;s custom list delimiter</span>
<span class="sd">        if that was specified using Field(.., delimiter=&quot;..&quot;), or the</span>
<span class="sd">        default list delimiter for the model class that this field belongs</span>
<span class="sd">        to.</span>

<span class="sd">        Args:</span>
<span class="sd">            field_key (str): the original field key (not its alias).</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: the delimiter string to be used for serializing the given field.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">field</span> <span class="o">:=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_key</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">ModelField</span><span class="p">):</span>
            <span class="n">delimiter</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">field_info</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delimiter&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
            <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_list_delimiter</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">delimiter</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Comments</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents the comments associated with fields in an INIBasedModel.</span>

<span class="sd">        Config:</span>
<span class="sd">            extra: Extra.allow</span>
<span class="sd">                Allows dynamic fields for comments.</span>
<span class="sd">            arbitrary_types_allowed: bool</span>
<span class="sd">                Indicates that only known types are allowed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
            <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">allow</span>
            <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">comments</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Comments</span><span class="p">]</span> <span class="o">=</span> <span class="n">Comments</span><span class="p">()</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_unknown_keywords</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates fields and raises errors for unknown keywords.</span>

<span class="sd">        Args:</span>
<span class="sd">            values (dict): Dictionary of field values to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Validated field values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If unknown keywords are found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">unknown_keyword_error_manager</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_unknown_keyword_error_manager</span><span class="p">()</span>
        <span class="n">do_not_validate</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_exclude_from_validation</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">unknown_keyword_error_manager</span><span class="p">:</span>
            <span class="n">unknown_keyword_error_manager</span><span class="o">.</span><span class="n">raise_error_for_unknown_keywords</span><span class="p">(</span>
                <span class="n">values</span><span class="p">,</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_header</span><span class="p">,</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="p">,</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_exclude_fields</span><span class="p">()</span> <span class="o">|</span> <span class="n">do_not_validate</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_skip_nones_and_set_header</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Drop None fields for known fields.</span>

<span class="sd">        Filters out None values and sets the model header.</span>

<span class="sd">        Args:</span>
<span class="sd">            values (dict): Dictionary of field values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Updated field values with None values removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dropkeys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">dropkeys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dropped unset keys: </span><span class="si">{</span><span class="n">dropkeys</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">dropkeys</span><span class="p">:</span>
            <span class="n">values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;_header&quot;</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;_header&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_header</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;comments&quot;</span><span class="p">,</span> <span class="n">always</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">comments_matches_has_comments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the presence of comments if supported by the model.</span>

<span class="sd">        Args:</span>
<span class="sd">            v (Any): The comments field value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: Validated comments field value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_supports_comments</span><span class="p">()</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dropped unsupported comments from </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> init.&quot;</span><span class="p">)</span>
            <span class="n">v</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">replace_fortran_scientific_notation_for_floats</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">Field</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts FORTRAN-style scientific notation to standard notation for float fields.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): The field value to process.</span>
<span class="sd">            field (Field): The field being processed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The processed field value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">type_</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_replace_fortran_scientific_notation</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_replace_fortran_scientific_notation</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces FORTRAN-style scientific notation in a value.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): The value to process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The processed value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_scientific_notation_regex</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\1e\3&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_scientific_notation_regex</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\1e\3&quot;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;INIBasedModel&quot;</span><span class="p">],</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;INIBasedModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates a value as an instance of INIBasedModel.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Any): The value to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            INIBasedModel: The validated instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Section</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_duplicate_keys_as_list</span><span class="p">(),</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_supports_comments</span><span class="p">()</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_exclude_from_validation</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">input_data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fields that should not be checked when validating existing fields as they will be dynamically added.</span>

<span class="sd">        Args:</span>
<span class="sd">            input_data (Optional[dict]): Input data to process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set: Set of field names to exclude from validation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_exclude_fields</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Defines fields to exclude from serialization.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set: Set of field names to exclude.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;comments&quot;</span><span class="p">,</span> <span class="s2">&quot;datablock&quot;</span><span class="p">,</span> <span class="s2">&quot;_header&quot;</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_value</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">,</span>
        <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a field value to its serialized string representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): The field key.</span>
<span class="sd">            v (Any): The field value.</span>
<span class="sd">            config (INISerializerConfig): Configuration for serialization.</span>
<span class="sd">            save_settings (ModelSaveSettings): Settings for saving the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The serialized value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">convert_value</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_value</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">get_list_field_delimiter</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span><span class="n">convert_value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">:{</span><span class="n">config</span><span class="o">.</span><span class="n">float_format</span><span class="si">}}</span><span class="s2">&quot;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">filepath</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_file_path_style_converter</span><span class="o">.</span><span class="n">convert_from_os_style</span><span class="p">(</span>
                <span class="n">v</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="n">save_settings</span><span class="o">.</span><span class="n">path_style</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_to_section</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Section</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts the model to an INI section.</span>

<span class="sd">        Args:</span>
<span class="sd">            config (INISerializerConfig): Configuration for serialization.</span>
<span class="sd">            save_settings (ModelSaveSettings): Settings for saving the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Section: The INI section representation of the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">props</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_be_serialized</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">field_key</span> <span class="o">=</span> <span class="n">key</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">alias</span>

            <span class="n">prop</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_value</span><span class="p">(</span><span class="n">field_key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">),</span>
                <span class="n">comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comments</span><span class="p">,</span> <span class="n">field_key</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">props</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Section</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_header</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">props</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_should_be_serialized</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines if a field should be serialized.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): The field key.</span>
<span class="sd">            value (Any): The field value.</span>
<span class="sd">            save_settings (ModelSaveSettings): Settings for saving the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the field should be serialized; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_fields</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">save_settings</span><span class="o">.</span><span class="n">_exclude_unset</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields_set__</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">field</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">field_type</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">type_</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_union</span><span class="p">(</span><span class="n">field_type</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_union_has_filemodel</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_list</span><span class="p">(</span><span class="n">field_type</span><span class="p">):</span>
            <span class="n">field_type</span> <span class="o">=</span> <span class="n">get_args</span><span class="p">(</span><span class="n">field_type</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_is_not_none_or_type_is_filemodel</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_union</span><span class="p">(</span><span class="n">field_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a type is a Union.</span>

<span class="sd">        Args:</span>
<span class="sd">            field_type (type): The type to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the type is a Union; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_origin</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span> <span class="ow">is</span> <span class="n">Union</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_union_has_filemodel</span><span class="p">(</span><span class="n">field_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a Union type includes a FileModel subtype.</span>

<span class="sd">        Args:</span>
<span class="sd">            field_type (type): The type to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the Union includes a FileModel; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">isclass</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_list</span><span class="p">(</span><span class="n">field_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a type is a list.</span>

<span class="sd">        Args:</span>
<span class="sd">            field_type (type): The type to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the type is a list; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_origin</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span> <span class="ow">is</span> <span class="n">List</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_value_is_not_none_or_type_is_filemodel</span><span class="p">(</span><span class="n">field_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a value is not None or if its type is FileModel.</span>

<span class="sd">        Args:</span>
<span class="sd">        field_type (type): The expected type of the field.</span>
<span class="sd">        value (Any): The value to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the value is valid; otherwise, False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">field_type</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="hydrolib.core.dflowfm.ini.models.INIBasedModel.Comments" class="doc doc-heading">
            <code>Comments</code>


<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.Comments" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="../base/api/#hydrolib.core.base.models.BaseModel">BaseModel</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Represents the comments associated with fields in an INIBasedModel.</p>


<details class="config" open>
  <summary>Config</summary>
  <p>extra: Extra.allow
    Allows dynamic fields for comments.
arbitrary_types_allowed: bool
    Indicates that only known types are allowed.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Comments</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents the comments associated with fields in an INIBasedModel.</span>

<span class="sd">    Config:</span>
<span class="sd">        extra: Extra.allow</span>
<span class="sd">            Allows dynamic fields for comments.</span>
<span class="sd">        arbitrary_types_allowed: bool</span>
<span class="sd">            Indicates that only known types are allowed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">allow</span>
        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.INIBasedModel.comments_matches_has_comments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">comments_matches_has_comments</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.comments_matches_has_comments" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Validates the presence of comments if supported by the model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The comments field value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Any</code></td>            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Validated comments field value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;comments&quot;</span><span class="p">,</span> <span class="n">always</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">comments_matches_has_comments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validates the presence of comments if supported by the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        v (Any): The comments field value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: Validated comments field value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_supports_comments</span><span class="p">()</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dropped unsupported comments from </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> init.&quot;</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_delimiter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_list_delimiter</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_delimiter" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>List delimiter string that will be used for serializing
list field values for any IniBasedModel, <strong>if</strong> that field has
no custom list delimiter.</p>
<p>This function should be overridden by any subclass for a particular
filetype that needs a specific/different list separator.</p>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_list_delimiter</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List delimiter string that will be used for serializing</span>
<span class="sd">    list field values for any IniBasedModel, **if** that field has</span>
<span class="sd">    no custom list delimiter.</span>

<span class="sd">    This function should be overridden by any subclass for a particular</span>
<span class="sd">    filetype that needs a specific/different list separator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_field_delimiter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_list_field_delimiter</span><span class="p">(</span><span class="n">field_key</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.get_list_field_delimiter" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>List delimiter string that will be used for serializing
the given field's value.
The returned delimiter is either the field's custom list delimiter
if that was specified using Field(.., delimiter=".."), or the
default list delimiter for the model class that this field belongs
to.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>field_key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the original field key (not its alias).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the delimiter string to be used for serializing the given field.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_list_field_delimiter</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">field_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List delimiter string that will be used for serializing</span>
<span class="sd">    the given field&#39;s value.</span>
<span class="sd">    The returned delimiter is either the field&#39;s custom list delimiter</span>
<span class="sd">    if that was specified using Field(.., delimiter=&quot;..&quot;), or the</span>
<span class="sd">    default list delimiter for the model class that this field belongs</span>
<span class="sd">    to.</span>

<span class="sd">    Args:</span>
<span class="sd">        field_key (str): the original field key (not its alias).</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: the delimiter string to be used for serializing the given field.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">delimiter</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">field</span> <span class="o">:=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">__fields__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_key</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">ModelField</span><span class="p">):</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">field_info</span><span class="o">.</span><span class="n">extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;delimiter&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">delimiter</span><span class="p">:</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_list_delimiter</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">delimiter</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.INIBasedModel.replace_fortran_scientific_notation_for_floats" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">replace_fortran_scientific_notation_for_floats</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.replace_fortran_scientific_notation_for_floats" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Converts FORTRAN-style scientific notation to standard notation for float fields.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field value to process.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code><span title="pydantic.v1.Field">Field</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field being processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Any</code></td>            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The processed field value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">replace_fortran_scientific_notation_for_floats</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">Field</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts FORTRAN-style scientific notation to standard notation for float fields.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): The field value to process.</span>
<span class="sd">        field (Field): The field being processed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: The processed field value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">type_</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_replace_fortran_scientific_notation</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.models.INIBasedModel.validate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.models.INIBasedModel.validate" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Validates a value as an instance of INIBasedModel.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>INIBasedModel</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="INIBasedModel (hydrolib.core.dflowfm.ini.models.INIBasedModel)" href="#hydrolib.core.dflowfm.ini.models.INIBasedModel">INIBasedModel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The validated instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;INIBasedModel&quot;</span><span class="p">],</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;INIBasedModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validates a value as an instance of INIBasedModel.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (Any): The value to validate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        INIBasedModel: The validated instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Section</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_duplicate_keys_as_list</span><span class="p">(),</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_supports_comments</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.models.INIModel" class="doc doc-heading">
            <code>INIModel</code>


<a href="#hydrolib.core.dflowfm.ini.models.INIModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ParsableFileModel (hydrolib.core.base.models.ParsableFileModel)" href="../base/api/#hydrolib.core.base.models.ParsableFileModel">ParsableFileModel</a></code></p>


        <p>INI Model representation of a *.ini file.</p>
<p>Typically subclasses will implement the various sorts of ini files,
specifically for their fileType/contents.
Child elements of this class associated with chapters/blocks in the
ini file will be (sub)class of INIBasedModel.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">INIModel</span><span class="p">(</span><span class="n">ParsableFileModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;INI Model representation of a *.ini file.</span>

<span class="sd">    Typically subclasses will implement the various sorts of ini files,</span>
<span class="sd">    specifically for their fileType/contents.</span>
<span class="sd">    Child elements of this class associated with chapters/blocks in the</span>
<span class="sd">    ini file will be (sub)class of INIBasedModel.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">serializer_config</span><span class="p">:</span> <span class="n">INISerializerConfig</span> <span class="o">=</span> <span class="n">INISerializerConfig</span><span class="p">()</span>

    <span class="n">general</span><span class="p">:</span> <span class="n">INIGeneral</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_ext</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;.ini&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_filename</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;fm&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_serializer</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">pass</span>  <span class="c1"># unused in favor of direct _serialize</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_parser</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Parser</span><span class="o">.</span><span class="n">parse_as_dict</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_to_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
        <span class="n">header</span> <span class="o">=</span> <span class="n">CommentBlock</span><span class="p">(</span><span class="n">lines</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;written by HYDROLIB-core </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_fields</span><span class="p">()</span> <span class="ow">or</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">save_settings</span><span class="o">.</span><span class="n">_exclude_unset</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fields_set__</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">_to_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">serializer_config</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">.</span><span class="n">_to_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">serializer_config</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">Document</span><span class="p">(</span><span class="n">header_comment</span><span class="o">=</span><span class="p">[</span><span class="n">header</span><span class="p">],</span> <span class="n">sections</span><span class="o">=</span><span class="n">sections</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a `Document` from the model and write it to the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">write_ini</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_resolved_filepath</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_to_document</span><span class="p">(</span><span class="n">save_settings</span><span class="p">),</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">serializer_config</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="parser">Parser<a class="headerlink" href="#parser" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="hydrolib.core.dflowfm.ini.parser"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.parser.Parser" class="doc doc-heading">
            <code>Parser</code>


<a href="#hydrolib.core.dflowfm.ini.parser.Parser" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Parser defines a generic Parser for Deltares ini files.</p>
<p>The Parser can be configured with a ParserConfig object.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Parser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parser defines a generic Parser for Deltares ini files.</span>

<span class="sd">    The Parser can be configured with a ParserConfig object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">_StateType</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
        <span class="n">NO_SECTION_FOUND</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">PARSING_PROPERTIES</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">PARSING_DATABLOCK</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new Parser configured with the provided config</span>

<span class="sd">        Args:</span>
<span class="sd">            config (ParserConfig): The configuration of this Parser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_IntermediateSection</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_IntermediateCommentBlock</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">NO_SECTION_FOUND</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_line_index</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># TODO add invalid blocks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_feed_line</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span>
            <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">NO_SECTION_FOUND</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_header_comment</span><span class="p">),</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_section_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_next_section_header</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_PROPERTIES</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_section_comment</span><span class="p">),</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_section_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_next_section_header</span><span class="p">),</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_property</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_property</span><span class="p">),</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_datarow</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_new_datarow</span><span class="p">),</span>
            <span class="p">],</span>
            <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_DATABLOCK</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_section_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_next_section_header</span><span class="p">),</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_datarow</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_datarow</span><span class="p">),</span>
            <span class="p">],</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_emptyline</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">NO_SECTION_FOUND</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finish_current_header_block</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_PROPERTIES</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_noop</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_DATABLOCK</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_noop</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">feed_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse the next line with this Parser.</span>

<span class="sd">        Args:</span>
<span class="sd">            line (str): The line to parse</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_empty_line</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">is_line_type</span><span class="p">,</span> <span class="n">handle_line_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feed_line</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">is_line_type</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
                    <span class="n">handle_line_type</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># handle exception</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_handle_emptyline</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">]()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_increment_line</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">finalize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Finalize parsing and return the constructed Document.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Document:</span>
<span class="sd">                A Document describing the parsed ini file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO handle invalid block</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finish_current_header_block</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalise_current_section</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_document</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_increment_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_line_index</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_next_section_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finalise_current_section</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_new_section_header</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_PROPERTIES</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_new_section_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">section_header</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span> <span class="o">=</span> <span class="n">_IntermediateSection</span><span class="p">(</span>
            <span class="n">header</span><span class="o">=</span><span class="n">section_header</span><span class="p">,</span> <span class="n">start_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_line_index</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_finalise_current_section</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span><span class="o">.</span><span class="n">finalize</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_header_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span> <span class="o">=</span> <span class="n">_IntermediateCommentBlock</span><span class="p">(</span>
                <span class="n">start_line</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_line_index</span>
            <span class="p">)</span>

        <span class="n">comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_comment</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span><span class="o">.</span><span class="n">add_comment_line</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_section_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_comment</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span><span class="o">.</span><span class="n">add_comment</span><span class="p">(</span><span class="n">comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_line_index</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">valuepart</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_key_value</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">valuepart</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">comment</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_property_comment</span><span class="p">(</span><span class="n">valuepart</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">comment</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="n">prop</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_new_datarow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_datarow</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_DATABLOCK</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_datarow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span><span class="o">.</span><span class="n">add_datarow</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_property_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the comment and value part from the valuestring of a key-value pair.</span>

<span class="sd">        The comment retrieval is complicated by the fact that in the Deltares-INI</span>
<span class="sd">        dialect, the comment delimiter &#39;#&#39; plays a double role: it may also be used</span>
<span class="sd">        to quote string values (for example if the contain spaces).</span>

<span class="sd">        Example lines that are supported:</span>
<span class="sd">        key = valueAndNoComment</span>
<span class="sd">        key = valueA  # and a simple comment</span>
<span class="sd">        key = #valueA with possible spaces#</span>
<span class="sd">        key = #valueA#  # and a simple comment</span>
<span class="sd">        key = #valueA# # and a complicated comment with hashes #1 example</span>
<span class="sd">        key = value # and a complicated comment with hashes #2.</span>

<span class="sd">        Keywords arguments:</span>
<span class="sd">            line (str) -- the partial string of the line containing both value and</span>
<span class="sd">                possibly a comment at the end. Note that the &quot;key =&quot; part must already</span>
<span class="sd">                have been split off, for example by _retrieve_key_value</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple with the comment and string value, respectively. If no comment is</span>
<span class="sd">            present, the first tuple element is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">parse_comments</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">parts</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="p">)</span>
            <span class="n">numhash</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">numhash</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># normal value, simple comment: &quot;key =  somevalue # and a comment &quot;</span>
                <span class="n">comment</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="p">):</span>
                <span class="c1"># hashed value, possible with comment: &quot;key = #somevalue# ...&quot;</span>
                <span class="n">comment</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>
                    <span class="k">if</span> <span class="n">numhash</span> <span class="o">&gt;=</span> <span class="mi">3</span>
                    <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                <span class="p">)</span>

                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># normal value, comment with maybe more hashes: &quot;key = somevalue #This is comment #2, or two &quot;</span>
                <span class="n">comment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">line</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">comment</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">comment</span> <span class="o">:=</span> <span class="n">comment</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">value</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span> <span class="o">:=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_retrieve_key_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="s2">&quot;=&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">value</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span> <span class="o">:=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># if no = exists, due to the previous check we know it will just be a</span>
            <span class="c1"># single value</span>
            <span class="k">return</span> <span class="n">line</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_finish_current_header_block</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">header_comment</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span><span class="o">.</span><span class="n">finalize</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_noop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">,</span> <span class="o">**</span><span class="n">__</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># no operation</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_is_empty_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_is_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_to_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_is_section_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># a header is defined as &quot;[ any-value ]&quot;</span>
        <span class="n">stripped</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">stripped</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">stripped</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_is_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># we assume that we already checked wether it is a comment or</span>
        <span class="c1"># a section header.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">allow_only_keywords</span> <span class="ow">or</span> <span class="s2">&quot;=&quot;</span> <span class="ow">in</span> <span class="n">line</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_is_datarow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># we assume that we already checked whether it is either a comment,</span>
        <span class="c1"># section header or a property</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">parse_datablocks</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_as_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses an INI file without a specific model type and returns it as a dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Path): File path to the INI-format file.</span>
<span class="sd">            config (ParserConfig, optional): Parser configuration to use. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: Representation of the parsed INI-file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parses an INI file without a specific model type and returns it as a Document.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Path): File path to the INI-format file.</span>
<span class="sd">            config (ParserConfig, optional): Parser configuration to use. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Document: Representation of the parsed INI-file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">()</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">filepath</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">feed_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.parser.Parser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.parser.Parser.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Creates a new Parser configured with the provided config</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ParserConfig (hydrolib.core.dflowfm.ini.parser.ParserConfig)" href="#hydrolib.core.dflowfm.ini.parser.ParserConfig">ParserConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration of this Parser</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new Parser configured with the provided config</span>

<span class="sd">    Args:</span>
<span class="sd">        config (ParserConfig): The configuration of this Parser</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_current_section</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_IntermediateSection</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_current_header_block</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_IntermediateCommentBlock</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">NO_SECTION_FOUND</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_line_index</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># TODO add invalid blocks</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_feed_line</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span>
        <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">bool</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">NO_SECTION_FOUND</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_header_comment</span><span class="p">),</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_section_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_next_section_header</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_PROPERTIES</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_comment</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_section_comment</span><span class="p">),</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_section_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_next_section_header</span><span class="p">),</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_property</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_property</span><span class="p">),</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_datarow</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_new_datarow</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_DATABLOCK</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_section_header</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_next_section_header</span><span class="p">),</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_datarow</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_datarow</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_handle_emptyline</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Parser</span><span class="o">.</span><span class="n">_StateType</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">NO_SECTION_FOUND</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_finish_current_header_block</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_PROPERTIES</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_noop</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_StateType</span><span class="o">.</span><span class="n">PARSING_DATABLOCK</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_noop</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.parser.Parser.feed_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">feed_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.parser.Parser.feed_line" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Parse the next line with this Parser.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>line</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line to parse</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">feed_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the next line with this Parser.</span>

<span class="sd">    Args:</span>
<span class="sd">        line (str): The line to parse</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_empty_line</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">is_line_type</span><span class="p">,</span> <span class="n">handle_line_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feed_line</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">is_line_type</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
                <span class="n">handle_line_type</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># handle exception</span>
            <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle_emptyline</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_state</span><span class="p">]()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_increment_line</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.parser.Parser.finalize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">finalize</span><span class="p">()</span></code>

<a href="#hydrolib.core.dflowfm.ini.parser.Parser.finalize" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Finalize parsing and return the constructed Document.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Document</code></td>            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.io_models.Document">Document</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Document describing the parsed ini file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">finalize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finalize parsing and return the constructed Document.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Document:</span>
<span class="sd">            A Document describing the parsed ini file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO handle invalid block</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_finish_current_header_block</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_finalise_current_section</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_document</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.parser.Parser.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.parser.Parser.parse" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Parses an INI file without a specific model type and returns it as a Document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to the INI-format file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ParserConfig (hydrolib.core.dflowfm.ini.parser.ParserConfig)" href="#hydrolib.core.dflowfm.ini.parser.ParserConfig">ParserConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parser configuration to use. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Document</code></td>            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.io_models.Document">Document</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Representation of the parsed INI-file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parses an INI file without a specific model type and returns it as a Document.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (Path): File path to the INI-format file.</span>
<span class="sd">        config (ParserConfig, optional): Parser configuration to use. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Document: Representation of the parsed INI-file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">()</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">filepath</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">feed_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.parser.Parser.parse_as_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_as_dict</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.parser.Parser.parse_as_dict" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Parses an INI file without a specific model type and returns it as a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to the INI-format file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ParserConfig (hydrolib.core.dflowfm.ini.parser.ParserConfig)" href="#hydrolib.core.dflowfm.ini.parser.ParserConfig">ParserConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parser configuration to use. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Representation of the parsed INI-file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_as_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parses an INI file without a specific model type and returns it as a dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (Path): File path to the INI-format file.</span>
<span class="sd">        config (ParserConfig, optional): Parser configuration to use. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Representation of the parsed INI-file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.parser.ParserConfig" class="doc doc-heading">
            <code>ParserConfig</code>


<a href="#hydrolib.core.dflowfm.ini.parser.ParserConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="../base/api/#hydrolib.core.base.models.BaseModel">BaseModel</a></code></p>


        <p>ParserConfig defines the configuration options of the Parser</p>
<p>Note that we cannot set both allow_only_keywords and parse_datablocks to True
because we cannot distinguish between datablocks and key only properties. As
such this will lead to a validation error.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.parser.ParserConfig.allow_only_keywords">allow_only_keywords</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to allow properties with only keys (no '=' or value).
Defaults to False.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.parser.ParserConfig.parse_datablocks">parse_datablocks</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to allow parsing of datablocks at the bottom of sections.
Defaults to False.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.parser.ParserConfig.parse_comments">parse_comments</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether we allow parsing of comments defined with the comment_delimeter.
Defaults to True.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.parser.ParserConfig.comment_delimiter">comment_delimiter</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The character or sequence of character used to define a comment.
Defaults to '#'.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/parser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ParserConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ParserConfig defines the configuration options of the Parser</span>

<span class="sd">    Note that we cannot set both allow_only_keywords and parse_datablocks to True</span>
<span class="sd">    because we cannot distinguish between datablocks and key only properties. As</span>
<span class="sd">    such this will lead to a validation error.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        allow_only_keywords (bool):</span>
<span class="sd">            Whether to allow properties with only keys (no &#39;=&#39; or value).</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        parse_datablocks (bool):</span>
<span class="sd">            Whether to allow parsing of datablocks at the bottom of sections.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        parse_comments (bool):</span>
<span class="sd">            Whether we allow parsing of comments defined with the comment_delimeter.</span>
<span class="sd">            Defaults to True.</span>
<span class="sd">        comment_delimiter (str):</span>
<span class="sd">            The character or sequence of character used to define a comment.</span>
<span class="sd">            Defaults to &#39;#&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">allow_only_keywords</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">parse_datablocks</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">parse_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">comment_delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#&quot;</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;parse_datablocks&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">allow_only_keywods_and_parse_datablocks_leads_should_not_both_be_true</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">parse_datablocks</span><span class="p">,</span> <span class="n">values</span>
    <span class="p">):</span>
        <span class="c1"># if both allow_only_keywords and parse_datablocks is true, we cannot</span>
        <span class="c1"># distinguish between the two, and the parsing will not recognise either</span>
        <span class="c1"># properly</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">parse_datablocks</span>
            <span class="ow">and</span> <span class="s2">&quot;allow_only_keywords&quot;</span> <span class="ow">in</span> <span class="n">values</span>
            <span class="ow">and</span> <span class="n">values</span><span class="p">[</span><span class="s2">&quot;allow_only_keywords&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Both parse_datablocks and allow_only_keywords should not be both True.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">parse_datablocks</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="serializer">Serializer<a class="headerlink" href="#serializer" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="hydrolib.core.dflowfm.ini.serializer"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig" class="doc doc-heading">
            <code>DataBlockINIBasedSerializerConfig</code>


<a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="INISerializerConfig (hydrolib.core.dflowfm.ini.serializer.INISerializerConfig)" href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig">INISerializerConfig</a></code></p>


        <p>Class that holds the configuration settings for INI files with data blocks serialization.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DataBlockINIBasedSerializerConfig</span><span class="p">(</span><span class="n">INISerializerConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class that holds the configuration settings for INI files with data blocks serialization.&quot;&quot;&quot;</span>

    <span class="n">float_format_datablock</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;str: The string format that will be used for float serialization of the datablock. If empty, the original number will be serialized. Defaults to an empty string.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Input value = 123.456</span>

<span class="sd">        Format    | Output          | Description</span>
<span class="sd">        -------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">        &quot;.0f&quot;     | 123             | Format float with 0 decimal places.</span>
<span class="sd">        &quot;f&quot;       | 123.456000      | Format float with default (=6) decimal places.</span>
<span class="sd">        &quot;.2f&quot;     | 123.46          | Format float with 2 decimal places.</span>
<span class="sd">        &quot;+.1f&quot;    | +123.5          | Format float with 1 decimal place with a + or  sign.</span>
<span class="sd">        &quot;e&quot;       | 1.234560e+02    | Format scientific notation with the letter &#39;e&#39; with default (=6) decimal places.</span>
<span class="sd">        &quot;E&quot;       | 1.234560E+02    | Format scientific notation with the letter &#39;E&#39; with default (=6) decimal places.</span>
<span class="sd">        &quot;.3e&quot;     | 1.235e+02       | Format scientific notation with the letter &#39;e&#39; with 3 decimal places.</span>
<span class="sd">        &quot;&lt;15&quot;     | 123.456         | Left aligned in space with width 15</span>
<span class="sd">        &quot;^15.0f&quot;  |       123       | Center aligned in space with width 15 with 0 decimal places.</span>
<span class="sd">        &quot;&gt;15.1e&quot;  |         1.2e+02 | Right aligned in space with width 15 with scientific notation with 1 decimal place.</span>
<span class="sd">        &quot;*&gt;15.1f&quot; | **********123.5 | Right aligned in space with width 15 with 1 decimal place and fill empty space with *</span>
<span class="sd">        &quot;%&quot;       | 12345.600000%   | Format percentage with default (=6) decimal places.     </span>
<span class="sd">        &quot;.3%&quot;     | 12345.600%      | Format percentage with 3 decimal places.  </span>

<span class="sd">        More information: https://docs.python.org/3/library/string.html#format-specification-mini-language</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">float_format_datablock</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>str: The string format that will be used for float serialization of the datablock. If empty, the original number will be serialized. Defaults to an empty string.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Input value = 123.456</p>
<h5 id="hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock--format-output-description">Format    | Output          | Description<a class="headerlink" href="#hydrolib.core.dflowfm.ini.serializer.DataBlockINIBasedSerializerConfig.float_format_datablock--format-output-description" title="Permanent link">&para;</a></h5>
<p>".0f"     | 123             | Format float with 0 decimal places.
"f"       | 123.456000      | Format float with default (=6) decimal places.
".2f"     | 123.46          | Format float with 2 decimal places.
"+.1f"    | +123.5          | Format float with 1 decimal place with a + or  sign.
"e"       | 1.234560e+02    | Format scientific notation with the letter 'e' with default (=6) decimal places.
"E"       | 1.234560E+02    | Format scientific notation with the letter 'E' with default (=6) decimal places.
".3e"     | 1.235e+02       | Format scientific notation with the letter 'e' with 3 decimal places.
"&lt;15"     | 123.456         | Left aligned in space with width 15
"^15.0f"  |       123       | Center aligned in space with width 15 with 0 decimal places.
"&gt;15.1e"  |         1.2e+02 | Right aligned in space with width 15 with scientific notation with 1 decimal place.
"<em>&gt;15.1f" | </em><strong><em>*</em></strong>**123.5 | Right aligned in space with width 15 with 1 decimal place and fill empty space with *
"%"       | 12345.600000%   | Format percentage with default (=6) decimal places.   <br />
".3%"     | 12345.600%      | Format percentage with 3 decimal places.  </p>
<p>More information: https://docs.python.org/3/library/string.html#format-specification-mini-language</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig" class="doc doc-heading">
            <code>INISerializerConfig</code>


<a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="SerializerConfig (hydrolib.core.base.models.SerializerConfig)" href="../base/api/#hydrolib.core.base.models.SerializerConfig">SerializerConfig</a></code></p>


        <p>SerializerConfig defines the configuration options of the Serializer</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.section_indent">section_indent</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of spaces with which whole sections should be indented.
Defaults to 0.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.property_indent">property_indent</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of spaces with which properties should be indented relative to
the section header (i.e. the full indent equals the section_indent plus
property_indent). Defaults to 4.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.datablock_indent">datablock_indent</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of spaces with which datablock rows are indented relative to
the section header (i.e. the full indent equals the section_indent plus
datablock_indent). Defaults to 8.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.datablock_spacing">datablock_spacing</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of spaces between datablock columns. Note that there might be
additional offset to ensure . is lined out. Defaults to 2.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.comment_delimiter">comment_delimiter</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The character used to delimit comments. Defaults to '#'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.skip_empty_properties">skip_empty_properties</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to skip properties with a value that is empty or None. Defaults to True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">INISerializerConfig</span><span class="p">(</span><span class="n">SerializerConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SerializerConfig defines the configuration options of the Serializer</span>

<span class="sd">    Attributes:</span>
<span class="sd">        section_indent (int):</span>
<span class="sd">            The number of spaces with which whole sections should be indented.</span>
<span class="sd">            Defaults to 0.</span>
<span class="sd">        property_indent (int):</span>
<span class="sd">            The number of spaces with which properties should be indented relative to</span>
<span class="sd">            the section header (i.e. the full indent equals the section_indent plus</span>
<span class="sd">            property_indent). Defaults to 4.</span>
<span class="sd">        datablock_indent (int):</span>
<span class="sd">            The number of spaces with which datablock rows are indented relative to</span>
<span class="sd">            the section header (i.e. the full indent equals the section_indent plus</span>
<span class="sd">            datablock_indent). Defaults to 8.</span>
<span class="sd">        datablock_spacing (int):</span>
<span class="sd">            The number of spaces between datablock columns. Note that there might be</span>
<span class="sd">            additional offset to ensure . is lined out. Defaults to 2.</span>
<span class="sd">        comment_delimiter (str):</span>
<span class="sd">            The character used to delimit comments. Defaults to &#39;#&#39;.</span>
<span class="sd">        skip_empty_properties (bool):</span>
<span class="sd">            Whether or not to skip properties with a value that is empty or None. Defaults to True.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">section_indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">property_indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">datablock_indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">datablock_spacing</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">comment_delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#&quot;</span>
    <span class="n">skip_empty_properties</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">total_property_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The combined property indentation, i.e. section_indent + property_indent&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_indent</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_indent</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">total_datablock_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The combined datablock indentation, i.e. section_indent + datablock_indent&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">section_indent</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">datablock_indent</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_datablock_indent" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">total_datablock_indent</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_datablock_indent" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>The combined datablock indentation, i.e. section_indent + datablock_indent</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_property_indent" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">total_property_indent</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig.total_property_indent" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>The combined property indentation, i.e. section_indent + property_indent</p>
    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.serializer.MaxLengths" class="doc doc-heading">
            <code>MaxLengths</code>


<a href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="../base/api/#hydrolib.core.base.models.BaseModel">BaseModel</a></code></p>


        <p>MaxLengths defines the maxmimum lengths of the parts of a section</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.MaxLengths.key">key</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum length of all the keys of the properties within a section.
If no properties are present it should be 0.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.MaxLengths.value">value</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum length of all the non None values of the properties within a
section. If no properties are present, or all values are None, it should
be 0.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.dflowfm.ini.serializer.MaxLengths.datablock">datablock</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[<span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum length of the values of each column of the Datablock.
If no datablock is present it defaults to None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MaxLengths</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;MaxLengths defines the maxmimum lengths of the parts of a section</span>

<span class="sd">    Attributes:</span>
<span class="sd">        key (int):</span>
<span class="sd">            The maximum length of all the keys of the properties within a section.</span>
<span class="sd">            If no properties are present it should be 0.</span>
<span class="sd">        value (int):</span>
<span class="sd">            The maximum length of all the non None values of the properties within a</span>
<span class="sd">            section. If no properties are present, or all values are None, it should</span>
<span class="sd">            be 0.</span>
<span class="sd">        datablock (Optional[Sequence[int]]):</span>
<span class="sd">            The maximum length of the values of each column of the Datablock.</span>
<span class="sd">            If no datablock is present it defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">datablock</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_section</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">section</span><span class="p">:</span> <span class="n">Section</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MaxLengths&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a MaxLengths instance from the given Section</span>

<span class="sd">        Args:</span>
<span class="sd">            section (Section): The section of which the MaxLengths are calculated</span>

<span class="sd">        Returns:</span>
<span class="sd">            MaxLengths: The MaxLengths corresponding with the provided section</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">properties</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">section</span><span class="o">.</span><span class="n">content</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">Property</span><span class="p">))</span>

        <span class="n">keys</span> <span class="o">=</span> <span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">key</span> <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">properties</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">properties</span> <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">max_key_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">max_value_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">max_datablock_lengths</span> <span class="o">=</span> <span class="n">MaxLengths</span><span class="o">.</span><span class="n">_of_datablock</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">datablock</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="n">max_key_length</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">max_value_length</span><span class="p">,</span>
            <span class="n">datablock</span><span class="o">=</span><span class="n">max_datablock_lengths</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_of_datablock</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Datablock</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">datablock</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">datablock</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">datablock_columns</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">datablock</span><span class="p">))</span>
        <span class="n">datablock_column_lengths</span> <span class="o">=</span> <span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">datablock_columns</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="n">max_lengths</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">column</span><span class="p">)</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">datablock_column_lengths</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">max_lengths</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.serializer.MaxLengths.from_section" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths.from_section" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Generate a MaxLengths instance from the given Section</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>section</code>
            </td>
            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.io_models.Section">Section</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The section of which the MaxLengths are calculated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>MaxLengths</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="MaxLengths (hydrolib.core.dflowfm.ini.serializer.MaxLengths)" href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths">MaxLengths</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The MaxLengths corresponding with the provided section</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_section</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">section</span><span class="p">:</span> <span class="n">Section</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MaxLengths&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a MaxLengths instance from the given Section</span>

<span class="sd">    Args:</span>
<span class="sd">        section (Section): The section of which the MaxLengths are calculated</span>

<span class="sd">    Returns:</span>
<span class="sd">        MaxLengths: The MaxLengths corresponding with the provided section</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">properties</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">section</span><span class="o">.</span><span class="n">content</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">Property</span><span class="p">))</span>

    <span class="n">keys</span> <span class="o">=</span> <span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">key</span> <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">properties</span><span class="p">)</span>
    <span class="n">values</span> <span class="o">=</span> <span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">properties</span> <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">max_key_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">max_value_length</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">max_datablock_lengths</span> <span class="o">=</span> <span class="n">MaxLengths</span><span class="o">.</span><span class="n">_of_datablock</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">datablock</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">key</span><span class="o">=</span><span class="n">max_key_length</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">max_value_length</span><span class="p">,</span>
        <span class="n">datablock</span><span class="o">=</span><span class="n">max_datablock_lengths</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.serializer.SectionSerializer" class="doc doc-heading">
            <code>SectionSerializer</code>


<a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>SectionSerializer provides the serialize method to serialize a Section</p>
<p>The entrypoint of this method is the serialize method, which will construct
an actual instance and serializes the Section with it.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SectionSerializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SectionSerializer provides the serialize method to serialize a Section</span>

<span class="sd">    The entrypoint of this method is the serialize method, which will construct</span>
<span class="sd">    an actual instance and serializes the Section with it.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">,</span> <span class="n">max_length</span><span class="p">:</span> <span class="n">MaxLengths</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new SectionSerializer</span>

<span class="sd">        Args:</span>
<span class="sd">            config (SerializerConfig): The config describing the serialization options</span>
<span class="sd">            max_length (MaxLengths): The max lengths of the section being serialized</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_length</span> <span class="o">=</span> <span class="n">max_length</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">serialize</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">section</span><span class="p">:</span> <span class="n">Section</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize the provided section with the given config</span>

<span class="sd">        Args:</span>
<span class="sd">            section (Section): The section to serialize</span>
<span class="sd">            config (SerializerConfig): The config describing the serialization options</span>

<span class="sd">        Returns:</span>
<span class="sd">            Lines: The iterable lines of the serialized section</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">MaxLengths</span><span class="o">.</span><span class="n">from_section</span><span class="p">(</span><span class="n">section</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">serializer</span><span class="o">.</span><span class="n">_serialize_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">INISerializerConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The SerializerConfig used while serializing the section.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max_length</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MaxLengths</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The MaxLengths of the Section being serialized by this SectionSerializer.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_length</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_section</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">:</span> <span class="n">Section</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="n">header_iterable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize_section_header</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
        <span class="n">properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize_content</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">datablock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize_datablock</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">datablock</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">chain</span><span class="p">(</span><span class="n">header_iterable</span><span class="p">,</span> <span class="n">properties</span><span class="p">,</span> <span class="n">datablock</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_section_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section_header</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">section_indent</span><span class="p">)</span>
        <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">indent</span><span class="si">}</span><span class="s2">[</span><span class="si">{</span><span class="n">section_header</span><span class="si">}</span><span class="s2">]&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ContentElement</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialize_content_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">content</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_content_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">:</span> <span class="n">ContentElement</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">Property</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize_property</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">total_property_indent</span>
            <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">comment_delimiter</span>
            <span class="k">return</span> <span class="n">_serialize_comment_block</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">indent</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">property</span><span class="p">:</span> <span class="n">Property</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">skip_empty_properties</span> <span class="ow">and</span> <span class="n">str_is_empty_or_none</span><span class="p">(</span><span class="nb">property</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="n">indent</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">total_property_indent</span><span class="p">)</span>
        <span class="n">key_ws</span> <span class="o">=</span> <span class="n">_get_offset_whitespace</span><span class="p">(</span><span class="nb">property</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">property</span><span class="o">.</span><span class="n">key</span><span class="si">}{</span><span class="n">key_ws</span><span class="si">}</span><span class="s2"> = &quot;</span>

        <span class="n">value_ws</span> <span class="o">=</span> <span class="n">_get_offset_whitespace</span><span class="p">(</span><span class="nb">property</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">property</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">property</span><span class="o">.</span><span class="n">value</span><span class="si">}{</span><span class="n">value_ws</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value_ws</span>

        <span class="n">comment</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot; # </span><span class="si">{</span><span class="nb">property</span><span class="o">.</span><span class="n">comment</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">str_is_empty_or_none</span><span class="p">(</span><span class="nb">property</span><span class="o">.</span><span class="n">comment</span><span class="p">)</span>
            <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="p">)</span>

        <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">indent</span><span class="si">}{</span><span class="n">key</span><span class="si">}{</span><span class="n">value</span><span class="si">}{</span><span class="n">comment</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_datablock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datablock</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Datablock</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">datablock</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span><span class="o">.</span><span class="n">datablock</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="n">indent</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">total_datablock_indent</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialize_row</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">indent</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">datablock</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="n">DatablockRow</span><span class="p">,</span> <span class="n">indent</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">elem_spacing</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">datablock_spacing</span>
        <span class="n">elems</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_serialize_row_element</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">count</span><span class="p">()))</span>

        <span class="k">return</span> <span class="n">indent</span> <span class="o">+</span> <span class="n">elem_spacing</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">elems</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_row_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">max_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span><span class="o">.</span><span class="n">datablock</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="n">whitespace</span> <span class="o">=</span> <span class="n">_get_offset_whitespace</span><span class="p">(</span><span class="n">elem</span><span class="p">,</span> <span class="n">max_length</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elem</span> <span class="o">+</span> <span class="n">whitespace</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.dflowfm.ini.serializer.SectionSerializer.config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.config" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>The SerializerConfig used while serializing the section.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.dflowfm.ini.serializer.SectionSerializer.max_length" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">max_length</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.max_length" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>The MaxLengths of the Section being serialized by this SectionSerializer.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.serializer.SectionSerializer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">max_length</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a new SectionSerializer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="SerializerConfig (hydrolib.core.base.models.SerializerConfig)" href="../base/api/#hydrolib.core.base.models.SerializerConfig">SerializerConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The config describing the serialization options</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_length</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="MaxLengths (hydrolib.core.dflowfm.ini.serializer.MaxLengths)" href="#hydrolib.core.dflowfm.ini.serializer.MaxLengths">MaxLengths</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The max lengths of the section being serialized</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">,</span> <span class="n">max_length</span><span class="p">:</span> <span class="n">MaxLengths</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new SectionSerializer</span>

<span class="sd">    Args:</span>
<span class="sd">        config (SerializerConfig): The config describing the serialization options</span>
<span class="sd">        max_length (MaxLengths): The max lengths of the section being serialized</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_max_length</span> <span class="o">=</span> <span class="n">max_length</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.serializer.SectionSerializer.serialize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#hydrolib.core.dflowfm.ini.serializer.SectionSerializer.serialize" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Serialize the provided section with the given config</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>section</code>
            </td>
            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.io_models.Section">Section</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The section to serialize</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="SerializerConfig (hydrolib.core.base.models.SerializerConfig)" href="../base/api/#hydrolib.core.base.models.SerializerConfig">SerializerConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The config describing the serialization options</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Lines</code></td>            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.serializer.Lines">Lines</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The iterable lines of the serialized section</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">serialize</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">section</span><span class="p">:</span> <span class="n">Section</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize the provided section with the given config</span>

<span class="sd">    Args:</span>
<span class="sd">        section (Section): The section to serialize</span>
<span class="sd">        config (SerializerConfig): The config describing the serialization options</span>

<span class="sd">    Returns:</span>
<span class="sd">        Lines: The iterable lines of the serialized section</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">MaxLengths</span><span class="o">.</span><span class="n">from_section</span><span class="p">(</span><span class="n">section</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">serializer</span><span class="o">.</span><span class="n">_serialize_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.dflowfm.ini.serializer.Serializer" class="doc doc-heading">
            <code>Serializer</code>


<a href="#hydrolib.core.dflowfm.ini.serializer.Serializer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Serializer serializes Document to its corresponding lines.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Serializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializer serializes Document to its corresponding lines.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new Serializer with the provided configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config (SerializerConfig): The configuration of this Serializer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize the provided document into an iterable of lines.</span>

<span class="sd">        Args:</span>
<span class="sd">            document (Document): The Document to serialize.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Lines: An iterable returning each line of the serialized Document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">header_iterable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize_document_header</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">header_comment</span><span class="p">)</span>

        <span class="n">serialize_section</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">SectionSerializer</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">(</span><span class="n">serialize_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span> <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">sections</span><span class="p">)</span>
        <span class="n">sections_with_spacing</span> <span class="o">=</span> <span class="n">Serializer</span><span class="o">.</span><span class="n">_interweave</span><span class="p">(</span><span class="n">sections</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">])</span>
        <span class="n">sections_iterable</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">sections_with_spacing</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">chain</span><span class="p">(</span><span class="n">header_iterable</span><span class="p">,</span> <span class="n">sections_iterable</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize_document_header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">header</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">CommentBlock</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">comment_delimiter</span>
        <span class="n">serialize</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">cb</span><span class="p">:</span> <span class="n">_serialize_comment_block</span><span class="p">(</span><span class="n">cb</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">)</span>
        <span class="n">blocks</span> <span class="o">=</span> <span class="p">(</span><span class="n">serialize</span><span class="p">(</span><span class="n">block</span><span class="p">)</span> <span class="k">for</span> <span class="n">block</span> <span class="ow">in</span> <span class="n">header</span><span class="p">)</span>
        <span class="n">blocks_with_spacing</span> <span class="o">=</span> <span class="n">Serializer</span><span class="o">.</span><span class="n">_interweave</span><span class="p">(</span><span class="n">blocks</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">blocks_with_spacing</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_interweave</span><span class="p">(</span><span class="n">iterable</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">:</span>
        <span class="c1"># Interweave the provided iterable with the provided value:</span>
        <span class="c1"># iterable_element, val, iterable_element, val, ...</span>

        <span class="c1"># Note that this will interweave with val without making copies</span>
        <span class="c1"># as such it is the same object being interweaved.</span>
        <span class="k">return</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">repeat</span><span class="p">(</span><span class="n">val</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.serializer.Serializer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.serializer.Serializer.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Creates a new Serializer with the provided configuration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="SerializerConfig (hydrolib.core.base.models.SerializerConfig)" href="../base/api/#hydrolib.core.base.models.SerializerConfig">SerializerConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration of this Serializer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new Serializer with the provided configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        config (SerializerConfig): The configuration of this Serializer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.dflowfm.ini.serializer.Serializer.serialize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize</span><span class="p">(</span><span class="n">document</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.serializer.Serializer.serialize" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Serialize the provided document into an iterable of lines.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>document</code>
            </td>
            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.io_models.Document">Document</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Document to serialize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Lines</code></td>            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.serializer.Lines">Lines</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An iterable returning each line of the serialized Document.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lines</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize the provided document into an iterable of lines.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): The Document to serialize.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Lines: An iterable returning each line of the serialized Document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">header_iterable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialize_document_header</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">header_comment</span><span class="p">)</span>

    <span class="n">serialize_section</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">SectionSerializer</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="p">(</span><span class="n">serialize_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span> <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">sections</span><span class="p">)</span>
    <span class="n">sections_with_spacing</span> <span class="o">=</span> <span class="n">Serializer</span><span class="o">.</span><span class="n">_interweave</span><span class="p">(</span><span class="n">sections</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">])</span>
    <span class="n">sections_iterable</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">sections_with_spacing</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">chain</span><span class="p">(</span><span class="n">header_iterable</span><span class="p">,</span> <span class="n">sections_iterable</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="hydrolib.core.dflowfm.ini.serializer.write_ini" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_ini</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">document</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>

<a href="#hydrolib.core.dflowfm.ini.serializer.write_ini" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Write the provided document to the specified path</p>
<p>If the provided path already exists, it will be overwritten. If the parent folder
do not exist, they will be created.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to which the document should be written.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>document</code>
            </td>
            <td>
                  <code><span title="hydrolib.core.dflowfm.ini.io_models.Document">Document</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to serialize to the specified path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="INISerializerConfig (hydrolib.core.dflowfm.ini.serializer.INISerializerConfig)" href="#hydrolib.core.dflowfm.ini.serializer.INISerializerConfig">INISerializerConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration settings for the serializer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/dflowfm/ini/serializer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_ini</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">INISerializerConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write the provided document to the specified path</span>

<span class="sd">    If the provided path already exists, it will be overwritten. If the parent folder</span>
<span class="sd">    do not exist, they will be created.</span>

<span class="sd">    Args:</span>
<span class="sd">        path (Path): The path to which the document should be written.</span>
<span class="sd">        document (Document): The document to serialize to the specified path.</span>
<span class="sd">        config (INISerializerConfig): The configuration settings for the serializer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">serializer</span> <span class="o">=</span> <span class="n">Serializer</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">serializer</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">document</span><span class="p">):</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Deltares
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Deltares/hydrolib-core" target="_blank" rel="noopener" title="Source code" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://gitter.im/Deltares/hydrolib" target="_blank" rel="noopener" title="Chat with us on Gitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4zM166.9 76.1h-50.4V512h50.4zm100.6 0h-50.4V512h50.4zM368 76h-50.4v247H368z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>