
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../base/">
      
      
        <link rel="next" href="../model-tree-traverser/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>API - hydrolib-core documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="deltares" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest release version.
<a href="../../../..">
    <strong>Click here to go to latest release.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="hydrolib-core documentation" class="md-header__button md-logo" aria-label="hydrolib-core documentation" data-md-component="logo">
      
  <img src="../../../images/HYDROLIB_logo_notext_mono_eroded.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            hydrolib-core documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="deltares" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Deltares/hydrolib-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    deltares/hydrolib-core
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guides/setup/" class="md-tabs__link">
          
  
  
  How-to

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tutorials/tutorials/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../topics/dhydro_support/" class="md-tabs__link">
          
  
  
  Topics

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../glossary/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../releasenotes/" class="md-tabs__link">
        
  
  
    
  
  Release notes

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="hydrolib-core documentation" class="md-nav__button md-logo" aria-label="hydrolib-core documentation" data-md-component="logo">
      
  <img src="../../../images/HYDROLIB_logo_notext_mono_eroded.svg" alt="logo">

    </a>
    hydrolib-core documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Deltares/hydrolib-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    deltares/hydrolib-core
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pip install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/devcontainers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer container
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/poetry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local clone + Poetry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/gettinghelp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting help
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction to tutorials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/build_basic_model.ipynb" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/loading_and_saving_a_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loading and saving a model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/dataframe_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dataframe handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/plotting_a_network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plotting a network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    External Forcing Conversion
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            External Forcing Conversion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/extforce-convert/external_forcing_conversion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Macro Syntax Error
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../topics/dhydro_support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    List of D-HYDRO functionalities and support in HYDROLIB-core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../topics/principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    First principles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../topics/pydantic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pydantic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../topics/loadsave/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loading and Saving within HYDROLIB-core
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ini/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    INI format
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    base
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base Module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basemodel-and-filemodel" class="md-nav__link">
    <span class="md-ellipsis">
      BaseModel and FileModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel" class="md-nav__link">
    <span class="md-ellipsis">
      BaseModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.is_file_link" class="md-nav__link">
    <span class="md-ellipsis">
      is_file_link
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.is_intermediate_link" class="md-nav__link">
    <span class="md-ellipsis">
      is_intermediate_link
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.show_tree" class="md-nav__link">
    <span class="md-ellipsis">
      show_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.DiskOnlyFileModel" class="md-nav__link">
    <span class="md-ellipsis">
      DiskOnlyFileModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel" class="md-nav__link">
    <span class="md-ellipsis">
      FileModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FileModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.save_location" class="md-nav__link">
    <span class="md-ellipsis">
      save_location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.__new__" class="md-nav__link">
    <span class="md-ellipsis">
      __new__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.synchronize_filepaths" class="md-nav__link">
    <span class="md-ellipsis">
      synchronize_filepaths
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelSaveSettings" class="md-nav__link">
    <span class="md-ellipsis">
      ModelSaveSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ModelSaveSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelSaveSettings.path_style" class="md-nav__link">
    <span class="md-ellipsis">
      path_style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelSaveSettings.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelTreeTraverser" class="md-nav__link">
    <span class="md-ellipsis">
      ModelTreeTraverser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ModelTreeTraverser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelTreeTraverser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelTreeTraverser.traverse" class="md-nav__link">
    <span class="md-ellipsis">
      traverse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ParsableFileModel" class="md-nav__link">
    <span class="md-ellipsis">
      ParsableFileModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.SerializerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      SerializerConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SerializerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.SerializerConfig.float_format" class="md-nav__link">
    <span class="md-ellipsis">
      float_format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="float_format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.SerializerConfig.float_format--format-output-description" class="md-nav__link">
    <span class="md-ellipsis">
      Format | Output | Description
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.validator_set_default_disk_only_file_model_when_none" class="md-nav__link">
    <span class="md-ellipsis">
      validator_set_default_disk_only_file_model_when_none
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model-tree-traverser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ModelTreeTraverser
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    D-Flow FM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            D-Flow FM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/mdu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MDU file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/net/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Net/grid file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/ext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External forcings file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/forcing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forcings .bc file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Structure .ini files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/friction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Friction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/crosssection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cross section files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/storagenode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage node .ini files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/inifield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Initial and parameter field files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/onedfield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1D field INI files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/polyfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Polyline/Polygon Files Documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/xyz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/observationpoint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observation point files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/observationcrosssection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observation cross section files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DIMR
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            DIMR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/dimr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DIMR xml files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    RainfallRunoff
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            RainfallRunoff
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rr/rr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RainfallRunoff file models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rr/meteo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Rainfall Runoff meteo layer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    GUI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            GUI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GUI files
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../releasenotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basemodel-and-filemodel" class="md-nav__link">
    <span class="md-ellipsis">
      BaseModel and FileModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel" class="md-nav__link">
    <span class="md-ellipsis">
      BaseModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BaseModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.is_file_link" class="md-nav__link">
    <span class="md-ellipsis">
      is_file_link
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.is_intermediate_link" class="md-nav__link">
    <span class="md-ellipsis">
      is_intermediate_link
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.BaseModel.show_tree" class="md-nav__link">
    <span class="md-ellipsis">
      show_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.DiskOnlyFileModel" class="md-nav__link">
    <span class="md-ellipsis">
      DiskOnlyFileModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel" class="md-nav__link">
    <span class="md-ellipsis">
      FileModel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FileModel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.save_location" class="md-nav__link">
    <span class="md-ellipsis">
      save_location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.__new__" class="md-nav__link">
    <span class="md-ellipsis">
      __new__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.FileModel.synchronize_filepaths" class="md-nav__link">
    <span class="md-ellipsis">
      synchronize_filepaths
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelSaveSettings" class="md-nav__link">
    <span class="md-ellipsis">
      ModelSaveSettings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ModelSaveSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelSaveSettings.path_style" class="md-nav__link">
    <span class="md-ellipsis">
      path_style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelSaveSettings.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelTreeTraverser" class="md-nav__link">
    <span class="md-ellipsis">
      ModelTreeTraverser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ModelTreeTraverser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelTreeTraverser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ModelTreeTraverser.traverse" class="md-nav__link">
    <span class="md-ellipsis">
      traverse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.ParsableFileModel" class="md-nav__link">
    <span class="md-ellipsis">
      ParsableFileModel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.SerializerConfig" class="md-nav__link">
    <span class="md-ellipsis">
      SerializerConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SerializerConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.SerializerConfig.float_format" class="md-nav__link">
    <span class="md-ellipsis">
      float_format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="float_format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.SerializerConfig.float_format--format-output-description" class="md-nav__link">
    <span class="md-ellipsis">
      Format | Output | Description
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydrolib.core.base.models.validator_set_default_disk_only_file_model_when_none" class="md-nav__link">
    <span class="md-ellipsis">
      validator_set_default_disk_only_file_model_when_none
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h1>
<p>Much of HYDROLIB-core's classes that represent input data are based on <code>BaseModel</code> and <code>FileModel</code>.
These build upon the <em>pydantic</em> package for data validation.</p>
<h2 id="basemodel-and-filemodel">BaseModel and FileModel<a class="headerlink" href="#basemodel-and-filemodel" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="hydrolib.core.base.models"></a>
    <div class="doc doc-contents first">

        <p>Here we define our Pydantic <code>BaseModel</code> with custom settings,
as well as a <code>FileModel</code> that inherits from a <code>BaseModel</code> but
also represents a file on disk.</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.BaseModel" class="doc doc-heading">
            <code>BaseModel</code>


<a href="#hydrolib.core.base.models.BaseModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.v1.BaseModel">BaseModel</span></code></p>







              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseModel</span><span class="p">(</span><span class="n">PydanticBaseModel</span><span class="p">):</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">use_enum_values</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>  <span class="c1"># will throw errors so we can fix our models</span>
        <span class="n">allow_population_by_field_name</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">alias_generator</span> <span class="o">=</span> <span class="n">to_key</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a BaseModel with the provided data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValidationError: A validation error when the data is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

            <span class="c1"># Give a special message for faulty list input</span>
            <span class="k">for</span> <span class="n">re</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">raw_errors</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="nb">hasattr</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="s2">&quot;_loc&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">exc</span><span class="p">,</span> <span class="s2">&quot;msg_template&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">to_key</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">_loc</span><span class="p">)),</span> <span class="nb">list</span><span class="p">)</span>
                <span class="p">):</span>
                    <span class="n">re</span><span class="o">.</span><span class="n">exc</span><span class="o">.</span><span class="n">msg_template</span> <span class="o">+=</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;. The key </span><span class="si">{</span><span class="n">re</span><span class="o">.</span><span class="n">_loc</span><span class="si">}</span><span class="s2"> might be duplicated in the input file.&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># Update error with specific model location name</span>
            <span class="n">identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_identifier</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If there is an identifier, include this in the ValidationError messages.</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">([</span><span class="n">ErrorWrapper</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">identifier</span><span class="p">)],</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_file_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generic attribute for models backed by a file.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_intermediate_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generic attribute for models that have children fields that could contain files.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">show_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Recursive print function for showing a tree of a model.&quot;&quot;&quot;</span>
        <span class="n">angle</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">indent</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># Only print if we&#39;re backed by a file</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Otherwise we recurse through the fields of a model</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="c1"># Handle lists of items</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;is_intermediate_link&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_intermediate_link</span><span class="p">():</span>
                    <span class="c1"># If the field is only an intermediate, print the name only</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">():</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">indent</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span> <span class="n">angle</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">show_tree</span><span class="p">(</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_apply_recurse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Could we use this function for `show_tree`?</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="c1"># Handle lists of items</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;is_intermediate_link&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_intermediate_link</span><span class="p">():</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">_apply_recurse</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># Run self as last, so we can make use of the nested updates</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">():</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the identifier for this model.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (dict): The data from which to retrieve the identifier</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The identifier or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.BaseModel.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.BaseModel.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initialize a BaseModel with the provided data.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pydantic.v1.error_wrappers.ValidationError">ValidationError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A validation error when the data is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a BaseModel with the provided data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValidationError: A validation error when the data is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

        <span class="c1"># Give a special message for faulty list input</span>
        <span class="k">for</span> <span class="n">re</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">raw_errors</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">hasattr</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="s2">&quot;_loc&quot;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">exc</span><span class="p">,</span> <span class="s2">&quot;msg_template&quot;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">to_key</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">_loc</span><span class="p">)),</span> <span class="nb">list</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">re</span><span class="o">.</span><span class="n">exc</span><span class="o">.</span><span class="n">msg_template</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;. The key </span><span class="si">{</span><span class="n">re</span><span class="o">.</span><span class="n">_loc</span><span class="si">}</span><span class="s2"> might be duplicated in the input file.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># Update error with specific model location name</span>
        <span class="n">identifier</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_identifier</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If there is an identifier, include this in the ValidationError messages.</span>
            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">([</span><span class="n">ErrorWrapper</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">identifier</span><span class="p">)],</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.BaseModel.is_file_link" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_file_link</span><span class="p">()</span></code>

<a href="#hydrolib.core.base.models.BaseModel.is_file_link" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Generic attribute for models backed by a file.</p>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_file_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic attribute for models backed by a file.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.BaseModel.is_intermediate_link" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_intermediate_link</span><span class="p">()</span></code>

<a href="#hydrolib.core.base.models.BaseModel.is_intermediate_link" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Generic attribute for models that have children fields that could contain files.</p>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_intermediate_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic attribute for models that have children fields that could contain files.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.BaseModel.show_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_tree</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.BaseModel.show_tree" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Recursive print function for showing a tree of a model.</p>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">show_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Recursive print function for showing a tree of a model.&quot;&quot;&quot;</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">indent</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># Only print if we&#39;re backed by a file</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

    <span class="c1"># Otherwise we recurse through the fields of a model</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="c1"># Handle lists of items</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;is_intermediate_link&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">is_intermediate_link</span><span class="p">():</span>
                <span class="c1"># If the field is only an intermediate, print the name only</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="o">.</span><span class="n">is_file_link</span><span class="p">():</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">indent</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span> <span class="n">angle</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                <span class="n">v</span><span class="o">.</span><span class="n">show_tree</span><span class="p">(</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.DiskOnlyFileModel" class="doc doc-heading">
            <code>DiskOnlyFileModel</code>


<a href="#hydrolib.core.base.models.DiskOnlyFileModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="FileModel (hydrolib.core.base.models.FileModel)" href="#hydrolib.core.base.models.FileModel">FileModel</a></code></p>


        <p>DiskOnlyFileModel provides a stub implementation for file based
models which are not explicitly implemented within hydrolib.core.</p>
<p>It implements the FileModel with a void parser and serializer, and a
save method which copies the file associated with the FileModel
to a new location if it exists.</p>
<p>We further explicitly assume that when the filepath is None, no
file will be written.</p>
<p>Actual file model implementations <em>should not</em> inherit from the
DiskOnlyFileModel and instead inherit directly from FileModel.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DiskOnlyFileModel</span><span class="p">(</span><span class="n">FileModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;DiskOnlyFileModel provides a stub implementation for file based</span>
<span class="sd">    models which are not explicitly implemented within hydrolib.core.</span>

<span class="sd">    It implements the FileModel with a void parser and serializer, and a</span>
<span class="sd">    save method which copies the file associated with the FileModel</span>
<span class="sd">    to a new location if it exists.</span>

<span class="sd">    We further explicitly assume that when the filepath is None, no</span>
<span class="sd">    file will be written.</span>

<span class="sd">    Actual file model implementations *should not* inherit from the</span>
<span class="sd">    DiskOnlyFileModel and instead inherit directly from FileModel.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_source_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_post_init_load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># After initialisation we retrieve the _resolved_filepath</span>
        <span class="c1"># this should correspond with the actual absolute path of the</span>
        <span class="c1"># underlying file. Only after saving this path will be updated.</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_post_init_load</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolved_filepath</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="c1"># We de not load any additional data, as such we return an empty dict.</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># The target_file_path contains the new path to write to, while the</span>
        <span class="c1"># _source_file_path contains the original data. If these are not the</span>
        <span class="c1"># same we copy the file and update the underlying source path.</span>
        <span class="n">target_file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolved_filepath</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_can_copy_to</span><span class="p">(</span><span class="n">target_file_path</span><span class="p">):</span>
            <span class="n">target_file_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span><span class="p">,</span> <span class="n">target_file_path</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span> <span class="o">=</span> <span class="n">target_file_path</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_can_copy_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">target_file_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span> <span class="o">!=</span> <span class="n">target_file_path</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source_file_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]:</span>
        <span class="c1"># There is no common name for DiskOnlyFileModel, instead we</span>
        <span class="c1"># do not generate names and skip None filepaths.</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_intermediate_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># If the filepath is not None, there is an underlying file, and as such we need</span>
        <span class="c1"># to traverse it.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.FileModel" class="doc doc-heading">
            <code>FileModel</code>


<a href="#hydrolib.core.base.models.FileModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Base class to represent models with a file representation.</p>
<p>It therefore always has a <code>filepath</code> and if it is given on
initilization, it will parse that file. The filepath can be
relative, in which case the paths are expected to be resolved
relative to some root model. If a path is absolute, this path
will always be used, regardless of a root parent.</p>
<p>When saving a model, if the current filepath is relative, the
last resolved absolute path will be used. If the model has just
been read, the</p>
<p>This class extends the <code>validate</code> option of Pydantic,
so when when a Path is given to a field with type <code>FileModel</code>,
it doesn't error, but actually initializes the <code>FileModel</code>.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="hydrolib.core.base.models.FileModel.filepath">filepath</span></code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path of this FileModel. This path can be either absolute or relative.
If it is a relative path, it is assumed to be resolved from some root
model.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="save_location (hydrolib.core.base.models.FileModel.save_location)" href="#hydrolib.core.base.models.FileModel.save_location">save_location</a></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A readonly property corresponding with the (current) save location of this
FileModel. If read from a file or after saving recursively or
after calling synchronize_filepath, this value will be updated to its new
state. If made from memory and filepath is not set, it will correspond with
cwd / filename.extension</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FileModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class to represent models with a file representation.</span>

<span class="sd">    It therefore always has a `filepath` and if it is given on</span>
<span class="sd">    initilization, it will parse that file. The filepath can be</span>
<span class="sd">    relative, in which case the paths are expected to be resolved</span>
<span class="sd">    relative to some root model. If a path is absolute, this path</span>
<span class="sd">    will always be used, regardless of a root parent.</span>

<span class="sd">    When saving a model, if the current filepath is relative, the</span>
<span class="sd">    last resolved absolute path will be used. If the model has just</span>
<span class="sd">    been read, the</span>

<span class="sd">    This class extends the `validate` option of Pydantic,</span>
<span class="sd">    so when when a Path is given to a field with type `FileModel`,</span>
<span class="sd">    it doesn&#39;t error, but actually initializes the `FileModel`.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        filepath (Optional[Path]):</span>
<span class="sd">            The path of this FileModel. This path can be either absolute or relative.</span>
<span class="sd">            If it is a relative path, it is assumed to be resolved from some root</span>
<span class="sd">            model.</span>
<span class="sd">        save_location (Path):</span>
<span class="sd">            A readonly property corresponding with the (current) save location of this</span>
<span class="sd">            FileModel. If read from a file or after saving recursively or</span>
<span class="sd">            after calling synchronize_filepath, this value will be updated to its new</span>
<span class="sd">            state. If made from memory and filepath is not set, it will correspond with</span>
<span class="sd">            cwd / filename.extension</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;__weakref__&quot;</span><span class="p">]</span>
    <span class="c1"># Use WeakValueDictionary to keep track of file paths with their respective parsed file models.</span>
    <span class="n">_file_models_cache</span><span class="p">:</span> <span class="n">WeakValueDictionary</span> <span class="o">=</span> <span class="n">WeakValueDictionary</span><span class="p">()</span>
    <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Absolute anchor is used to resolve the save location when the filepath is relative.</span>
    <span class="n">_absolute_anchor_path</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PathOrStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new model.</span>
<span class="sd">        If the file at the provided file path was already parsed, this instance is returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Optional[PathOrStr], optional): The file path to the file. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            FileModel: A file model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_change_to_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">file_model</span> <span class="o">:=</span> <span class="n">context</span><span class="o">.</span><span class="n">retrieve_model</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">context</span><span class="o">.</span><span class="n">is_content_changed</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                    <span class="bp">cls</span><span class="o">.</span><span class="n">_has_been_loaded_from_cache</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">return</span> <span class="n">file_model</span>

            <span class="bp">cls</span><span class="o">.</span><span class="n">_has_been_loaded_from_cache</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PathOrStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resolve_casing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">path_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new FileModel from the given filepath.</span>

<span class="sd">        If no filepath is provided, the model is initialized as an empty</span>
<span class="sd">        model with default values.</span>
<span class="sd">        If the filepath is provided, it is read from disk.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Optional[PathOrStr], optional): The file path. Defaults to None.</span>
<span class="sd">            resolve_casing (bool, optional): Whether or not to resolve the file name references so that they match the case with what is on disk. Defaults to False.</span>
<span class="sd">            recurse (bool, optional): Whether or not to recursively load the model. Defaults to True.</span>
<span class="sd">            path_style (Optional[str], optional): Which path style is used in the loaded files. Defaults to the path style that matches the current operating system. Options: &#39;unix&#39;, &#39;windows&#39;.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: When an unsupported path style is passed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_loaded_from_cache</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">filepath</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">filepath</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_change_to_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="n">path_style</span> <span class="o">=</span> <span class="n">path_style_validator</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">path_style</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">initialize_load_settings</span><span class="p">(</span><span class="n">recurse</span><span class="p">,</span> <span class="n">resolve_casing</span><span class="p">,</span> <span class="n">path_style</span><span class="p">)</span>

            <span class="n">filepath</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">convert_path_style</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_should_load_model</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>
                <span class="k">return</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_current_parent</span><span class="p">()</span>
            <span class="n">loading_path</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
            <span class="n">loading_path</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">resolve_casing</span><span class="p">(</span><span class="n">loading_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">load_settings</span><span class="o">.</span><span class="n">resolve_casing</span><span class="p">:</span>
                <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_updated_file_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">loading_path</span><span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading data from </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load</span><span class="p">(</span><span class="n">loading_path</span><span class="p">)</span>
            <span class="n">context</span><span class="o">.</span><span class="n">register_model</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filepath&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filepath</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

            <span class="c1"># Note: the relative mode needs to be obtained from the data directly</span>
            <span class="c1"># because self._relative_mode has not been resolved yet (this is done as</span>
            <span class="c1"># part of the __init__), however during the __init__ we need to already</span>
            <span class="c1"># have pushed the new parent. As such we cannot move this call later.</span>
            <span class="n">relative_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_relative_mode_from_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">context</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="n">filepath</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">relative_mode</span><span class="p">)</span>

            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_post_init_load</span><span class="p">()</span>

            <span class="n">context</span><span class="o">.</span><span class="n">pop_last_parent</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_should_load_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether the file model should be loaded or not.</span>
<span class="sd">        A file model should be loaded when either all models should be loaded recursively,</span>
<span class="sd">        or when no file model has been loaded yet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether or not the file model should be loaded or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="n">load_settings</span><span class="o">.</span><span class="n">recurse</span> <span class="ow">or</span> <span class="n">context</span><span class="o">.</span><span class="n">cache_is_empty</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_post_init_load</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        _post_init_load provides a hook into the __init__ of the FileModel which can be</span>
<span class="sd">        used in subclasses for logic that requires the FileModel FileLoadContext.</span>

<span class="sd">        It is guaranteed to be called after the pydantic model is, with the FileLoadContext</span>
<span class="sd">        relative to this FileModel being loaded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_resolved_filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">save_location</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the current save location which will be used when calling `save()`</span>

<span class="sd">        This value can be None if the filepath is None and no name can be generated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path: The location at which this model will be saved.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_name</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">filepath</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">filepath</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span> <span class="o">/</span> <span class="n">filepath</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_file_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_updated_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">loading_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the file path with the resolved casing from the loading path.</span>
<span class="sd">        Logs an information message if a file path is updated.</span>

<span class="sd">        For example, given:</span>
<span class="sd">            file_path = &quot;To/A/File.txt&quot;</span>
<span class="sd">            loading_path = &quot;D:/path/to/a/file.txt&quot;</span>

<span class="sd">        Then the result will be: &quot;to/a/file.txt&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            file_path (Path): The file path.</span>
<span class="sd">            loading_path (Path): The resolved loading path.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Path: The updated file path.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">updated_file_parts</span> <span class="o">=</span> <span class="n">loading_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">file_path</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span> <span class="p">:]</span>  <span class="c1"># noqa: E203</span>
        <span class="n">updated_file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">*</span><span class="n">updated_file_parts</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">updated_file_path</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Updating file reference from </span><span class="si">{</span><span class="n">file_path</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">updated_file_path</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">updated_file_path</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;FileModel&quot;</span><span class="p">],</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="c1"># Enable initialization with a Path.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="c1"># Pydantic Model init requires a dict</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;filepath&quot;</span><span class="p">:</span> <span class="n">Path</span><span class="p">(</span><span class="n">value</span><span class="p">)}</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expected </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> or dict, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">path_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">exclude_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save the model to disk.</span>

<span class="sd">        If recurse is set to True, all of the child FileModels will be saved as well.</span>
<span class="sd">        Relative child models are stored relative to this Model, according to the</span>
<span class="sd">        model file hierarchy specified with the respective filepaths.</span>
<span class="sd">        Absolute paths will be written to their respective locations. Note that this</span>
<span class="sd">        will overwrite any existing files that are stored in this location.</span>

<span class="sd">        Note that if recurse is set to True, the save_location properties of the</span>
<span class="sd">        children are updated to their respective new locations.</span>

<span class="sd">        If filepath it is specified, the filepath of this FileModel is set to the</span>
<span class="sd">        specified path before the save operation is executed. If none is specified</span>
<span class="sd">        it will use the current filepath.</span>

<span class="sd">        If the used filepath is relative, it will be stored at the current</span>
<span class="sd">        save_location. If you only want to save a child model of some root model, it is</span>
<span class="sd">        recommended to first call synchronize_filepaths on the root model, to ensure</span>
<span class="sd">        the child model&#39;s save_location is correctly determined.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Optional[Path], optional):</span>
<span class="sd">                The file path at which this model is saved. If None is specified</span>
<span class="sd">                it defaults to the filepath currently stored in the filemodel.</span>
<span class="sd">                Defaults to None.</span>
<span class="sd">            recurse (bool, optional):</span>
<span class="sd">                Whether to save all children of this FileModel (when set to True),</span>
<span class="sd">                or only save this model (when set to False). Defaults to False.</span>
<span class="sd">            path_style (Optional[str], optional):</span>
<span class="sd">                With which file path style to save the model. File references will</span>
<span class="sd">                be written with the specified path style. Defaults to the path style</span>
<span class="sd">                used by the current operating system. Options: &#39;unix&#39;, &#39;windows&#39;.</span>
<span class="sd">            exclude_unset (bool, optional):</span>
<span class="sd">                Whether or not to exclude unset values when saving the model.</span>
<span class="sd">                Defaults to False.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: When an unsupported path style is passed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">filepath</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>

        <span class="n">path_style</span> <span class="o">=</span> <span class="n">path_style_validator</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">path_style</span><span class="p">)</span>
        <span class="n">save_settings</span> <span class="o">=</span> <span class="n">ModelSaveSettings</span><span class="p">(</span>
            <span class="n">path_style</span><span class="o">=</span><span class="n">path_style</span><span class="p">,</span> <span class="n">exclude_unset</span><span class="o">=</span><span class="n">exclude_unset</span>
        <span class="p">)</span>

        <span class="c1"># Handle save</span>
        <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_save_tree</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_save_instance</span><span class="p">(</span><span class="n">save_settings</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_name</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save</span><span class="p">(</span><span class="n">save_settings</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save_tree</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Ensure all names are generated prior to saving</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">execute_generate_name</span><span class="p">(</span>
            <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">)</span> <span class="ow">and</span> <span class="n">model</span><span class="o">.</span><span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">model</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_generate_name</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">acc</span>

        <span class="n">name_traverser</span> <span class="o">=</span> <span class="n">ModelTreeTraverser</span><span class="p">[</span><span class="n">FileLoadContext</span><span class="p">](</span>
            <span class="n">should_traverse</span><span class="o">=</span><span class="n">_should_traverse</span><span class="p">,</span>
            <span class="n">should_execute</span><span class="o">=</span><span class="n">_should_execute</span><span class="p">,</span>
            <span class="n">post_traverse_func</span><span class="o">=</span><span class="n">execute_generate_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">name_traverser</span><span class="o">.</span><span class="n">traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">save_pre</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">):</span>
                <span class="n">acc</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
            <span class="k">return</span> <span class="n">acc</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">save_post</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">):</span>
                <span class="n">acc</span><span class="o">.</span><span class="n">pop_last_parent</span><span class="p">()</span>
                <span class="n">model</span><span class="o">.</span><span class="n">_absolute_anchor_path</span> <span class="o">=</span> <span class="n">acc</span><span class="o">.</span><span class="n">get_current_parent</span><span class="p">()</span>
                <span class="n">model</span><span class="o">.</span><span class="n">_save</span><span class="p">(</span><span class="n">save_settings</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">acc</span>

        <span class="n">save_traverser</span> <span class="o">=</span> <span class="n">ModelTreeTraverser</span><span class="p">[</span><span class="n">FileLoadContext</span><span class="p">](</span>
            <span class="n">should_traverse</span><span class="o">=</span><span class="n">_should_traverse</span><span class="p">,</span>
            <span class="n">should_execute</span><span class="o">=</span><span class="n">_should_execute</span><span class="p">,</span>
            <span class="n">pre_traverse_func</span><span class="o">=</span><span class="n">save_pre</span><span class="p">,</span>
            <span class="n">post_traverse_func</span><span class="o">=</span><span class="n">save_post</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">save_traverser</span><span class="o">.</span><span class="n">traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">synchronize_filepaths</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Synchronize the save_location properties of all child models respective to</span>
<span class="sd">        this FileModel&#39;s save_location.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">sync_pre</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">):</span>
                <span class="n">acc</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
            <span class="k">return</span> <span class="n">acc</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">sync_post</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">):</span>
                <span class="n">acc</span><span class="o">.</span><span class="n">pop_last_parent</span><span class="p">()</span>
                <span class="n">model</span><span class="o">.</span><span class="n">_absolute_anchor_path</span> <span class="o">=</span> <span class="n">acc</span><span class="o">.</span><span class="n">get_current_parent</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">acc</span>

        <span class="n">traverser</span> <span class="o">=</span> <span class="n">ModelTreeTraverser</span><span class="p">[</span><span class="n">FileLoadContext</span><span class="p">](</span>
            <span class="n">should_traverse</span><span class="o">=</span><span class="n">_should_traverse</span><span class="p">,</span>
            <span class="n">should_execute</span><span class="o">=</span><span class="n">_should_execute</span><span class="p">,</span>
            <span class="n">pre_traverse_func</span><span class="o">=</span><span class="n">sync_pre</span><span class="p">,</span>
            <span class="n">post_traverse_func</span><span class="o">=</span><span class="n">sync_post</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
            <span class="n">context</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>
            <span class="n">traverser</span><span class="o">.</span><span class="n">traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_relative_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ResolveRelativeMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the ResolveRelativeMode of this FileModel.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ResolveRelativeMode: The ResolveRelativeMode of this FileModel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ResolveRelativeMode</span><span class="o">.</span><span class="n">ToParent</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_relative_mode_from_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ResolveRelativeMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the ResolveRelativeMode of this FileModel based on the provided data.</span>

<span class="sd">        Note that by default, data is not used, and FileModels are always relative to</span>
<span class="sd">        the parent. In exceptional cases, the relative mode can be dependent on the</span>
<span class="sd">        data (i.e. the unvalidated/parsed dictionary fed into the pydantic basemodel).</span>
<span class="sd">        As such the data is provided for such classes where the relative mode is</span>
<span class="sd">        dependent on the state (e.g. the [FMModel][hydrolib.core.dflowfm.mdu.models.FMModel]).</span>

<span class="sd">        Args:</span>
<span class="sd">            data (Dict[str, Any]):</span>
<span class="sd">                The unvalidated/parsed data which is fed to the pydantic base model,</span>
<span class="sd">                used to determine the ResolveRelativeMode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ResolveRelativeMode: The ResolveRelativeMode of this FileModel</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ResolveRelativeMode</span><span class="o">.</span><span class="n">ToParent</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a (default) name for this FileModel.</span>

<span class="sd">        Note that if _generate_name in theory can return a None value,</span>
<span class="sd">        if this is possible in the specific implementation, _save should</span>
<span class="sd">        be able to handle filepaths set to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[Path]:</span>
<span class="sd">                a relative path with the default name of the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save this instance to disk.</span>

<span class="sd">        This method needs to be implemented by any class deriving from</span>
<span class="sd">        FileModel, and is used in both the _save_instance and _save_tree</span>
<span class="sd">        methods.</span>

<span class="sd">        Args:</span>
<span class="sd">            save_settings (ModelSaveSettings): The model save settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load the data at filepath and returns it as a dictionary.</span>

<span class="sd">        If a derived FileModel does not load data from disk, this should</span>
<span class="sd">        return an empty dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Path): Path to the data to load.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict: The data stored at filepath</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_change_to_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">filepath</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">filepath</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;filepath&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_conform_filepath_to_pathlib</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_change_to_path</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.base.models.FileModel.save_location" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_location</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#hydrolib.core.base.models.FileModel.save_location" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Get the current save location which will be used when calling <code>save()</code></p>
<p>This value can be None if the filepath is None and no name can be generated.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Path</code></td>            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location at which this model will be saved.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.FileModel.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolve_casing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">path_style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.FileModel.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a new FileModel from the given filepath.</p>
<p>If no filepath is provided, the model is initialized as an empty
model with default values.
If the filepath is provided, it is read from disk.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="hydrolib.core.base.file_manager.PathOrStr">PathOrStr</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>resolve_casing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to resolve the file name references so that they match the case with what is on disk. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>recurse</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to recursively load the model. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path_style</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which path style is used in the loaded files. Defaults to the path style that matches the current operating system. Options: 'unix', 'windows'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When an unsupported path style is passed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PathOrStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resolve_casing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">path_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new FileModel from the given filepath.</span>

<span class="sd">    If no filepath is provided, the model is initialized as an empty</span>
<span class="sd">    model with default values.</span>
<span class="sd">    If the filepath is provided, it is read from disk.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (Optional[PathOrStr], optional): The file path. Defaults to None.</span>
<span class="sd">        resolve_casing (bool, optional): Whether or not to resolve the file name references so that they match the case with what is on disk. Defaults to False.</span>
<span class="sd">        recurse (bool, optional): Whether or not to recursively load the model. Defaults to True.</span>
<span class="sd">        path_style (Optional[str], optional): Which path style is used in the loaded files. Defaults to the path style that matches the current operating system. Options: &#39;unix&#39;, &#39;windows&#39;.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: When an unsupported path style is passed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_been_loaded_from_cache</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">filepath</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">filepath</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_change_to_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="n">path_style</span> <span class="o">=</span> <span class="n">path_style_validator</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">path_style</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
        <span class="n">context</span><span class="o">.</span><span class="n">initialize_load_settings</span><span class="p">(</span><span class="n">recurse</span><span class="p">,</span> <span class="n">resolve_casing</span><span class="p">,</span> <span class="n">path_style</span><span class="p">)</span>

        <span class="n">filepath</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">convert_path_style</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_should_load_model</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">get_current_parent</span><span class="p">()</span>
        <span class="n">loading_path</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="n">loading_path</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">resolve_casing</span><span class="p">(</span><span class="n">loading_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">load_settings</span><span class="o">.</span><span class="n">resolve_casing</span><span class="p">:</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_updated_file_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">loading_path</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading data from </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load</span><span class="p">(</span><span class="n">loading_path</span><span class="p">)</span>
        <span class="n">context</span><span class="o">.</span><span class="n">register_model</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;filepath&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filepath</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="c1"># Note: the relative mode needs to be obtained from the data directly</span>
        <span class="c1"># because self._relative_mode has not been resolved yet (this is done as</span>
        <span class="c1"># part of the __init__), however during the __init__ we need to already</span>
        <span class="c1"># have pushed the new parent. As such we cannot move this call later.</span>
        <span class="n">relative_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_relative_mode_from_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">context</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="n">filepath</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">relative_mode</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_init_load</span><span class="p">()</span>

        <span class="n">context</span><span class="o">.</span><span class="n">pop_last_parent</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.FileModel.__new__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.FileModel.__new__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a new model.
If the file at the provided file path was already parsed, this instance is returned.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="hydrolib.core.base.file_manager.PathOrStr">PathOrStr</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to the file. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>FileModel</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A file model.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PathOrStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new model.</span>
<span class="sd">    If the file at the provided file path was already parsed, this instance is returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (Optional[PathOrStr], optional): The file path to the file. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        FileModel: A file model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">FileModel</span><span class="o">.</span><span class="n">_change_to_path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">file_model</span> <span class="o">:=</span> <span class="n">context</span><span class="o">.</span><span class="n">retrieve_model</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">context</span><span class="o">.</span><span class="n">is_content_changed</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_has_been_loaded_from_cache</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">return</span> <span class="n">file_model</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">_has_been_loaded_from_cache</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.FileModel.save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">path_style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.FileModel.save" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Save the model to disk.</p>
<p>If recurse is set to True, all of the child FileModels will be saved as well.
Relative child models are stored relative to this Model, according to the
model file hierarchy specified with the respective filepaths.
Absolute paths will be written to their respective locations. Note that this
will overwrite any existing files that are stored in this location.</p>
<p>Note that if recurse is set to True, the save_location properties of the
children are updated to their respective new locations.</p>
<p>If filepath it is specified, the filepath of this FileModel is set to the
specified path before the save operation is executed. If none is specified
it will use the current filepath.</p>
<p>If the used filepath is relative, it will be stored at the current
save_location. If you only want to save a child model of some root model, it is
recommended to first call synchronize_filepaths on the root model, to ensure
the child model's save_location is correctly determined.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path at which this model is saved. If None is specified
it defaults to the filepath currently stored in the filemodel.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>recurse</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to save all children of this FileModel (when set to True),
or only save this model (when set to False). Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path_style</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>With which file path style to save the model. File references will
be written with the specified path style. Defaults to the path style
used by the current operating system. Options: 'unix', 'windows'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exclude_unset</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to exclude unset values when saving the model.
Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When an unsupported path style is passed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">filepath</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">path_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">exclude_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Save the model to disk.</span>

<span class="sd">    If recurse is set to True, all of the child FileModels will be saved as well.</span>
<span class="sd">    Relative child models are stored relative to this Model, according to the</span>
<span class="sd">    model file hierarchy specified with the respective filepaths.</span>
<span class="sd">    Absolute paths will be written to their respective locations. Note that this</span>
<span class="sd">    will overwrite any existing files that are stored in this location.</span>

<span class="sd">    Note that if recurse is set to True, the save_location properties of the</span>
<span class="sd">    children are updated to their respective new locations.</span>

<span class="sd">    If filepath it is specified, the filepath of this FileModel is set to the</span>
<span class="sd">    specified path before the save operation is executed. If none is specified</span>
<span class="sd">    it will use the current filepath.</span>

<span class="sd">    If the used filepath is relative, it will be stored at the current</span>
<span class="sd">    save_location. If you only want to save a child model of some root model, it is</span>
<span class="sd">    recommended to first call synchronize_filepaths on the root model, to ensure</span>
<span class="sd">    the child model&#39;s save_location is correctly determined.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (Optional[Path], optional):</span>
<span class="sd">            The file path at which this model is saved. If None is specified</span>
<span class="sd">            it defaults to the filepath currently stored in the filemodel.</span>
<span class="sd">            Defaults to None.</span>
<span class="sd">        recurse (bool, optional):</span>
<span class="sd">            Whether to save all children of this FileModel (when set to True),</span>
<span class="sd">            or only save this model (when set to False). Defaults to False.</span>
<span class="sd">        path_style (Optional[str], optional):</span>
<span class="sd">            With which file path style to save the model. File references will</span>
<span class="sd">            be written with the specified path style. Defaults to the path style</span>
<span class="sd">            used by the current operating system. Options: &#39;unix&#39;, &#39;windows&#39;.</span>
<span class="sd">        exclude_unset (bool, optional):</span>
<span class="sd">            Whether or not to exclude unset values when saving the model.</span>
<span class="sd">            Defaults to False.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: When an unsupported path style is passed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">filepath</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="n">filepath</span>

    <span class="n">path_style</span> <span class="o">=</span> <span class="n">path_style_validator</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">path_style</span><span class="p">)</span>
    <span class="n">save_settings</span> <span class="o">=</span> <span class="n">ModelSaveSettings</span><span class="p">(</span>
        <span class="n">path_style</span><span class="o">=</span><span class="n">path_style</span><span class="p">,</span> <span class="n">exclude_unset</span><span class="o">=</span><span class="n">exclude_unset</span>
    <span class="p">)</span>

    <span class="c1"># Handle save</span>
    <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
        <span class="n">context</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">recurse</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_tree</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_instance</span><span class="p">(</span><span class="n">save_settings</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.FileModel.synchronize_filepaths" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">synchronize_filepaths</span><span class="p">()</span></code>

<a href="#hydrolib.core.base.models.FileModel.synchronize_filepaths" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Synchronize the save_location properties of all child models respective to
this FileModel's save_location.</p>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">synchronize_filepaths</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Synchronize the save_location properties of all child models respective to</span>
<span class="sd">    this FileModel&#39;s save_location.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sync_pre</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">):</span>
            <span class="n">acc</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">filepath</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
        <span class="k">return</span> <span class="n">acc</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sync_post</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">FileLoadContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileLoadContext</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">FileModel</span><span class="p">):</span>
            <span class="n">acc</span><span class="o">.</span><span class="n">pop_last_parent</span><span class="p">()</span>
            <span class="n">model</span><span class="o">.</span><span class="n">_absolute_anchor_path</span> <span class="o">=</span> <span class="n">acc</span><span class="o">.</span><span class="n">get_current_parent</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">acc</span>

    <span class="n">traverser</span> <span class="o">=</span> <span class="n">ModelTreeTraverser</span><span class="p">[</span><span class="n">FileLoadContext</span><span class="p">](</span>
        <span class="n">should_traverse</span><span class="o">=</span><span class="n">_should_traverse</span><span class="p">,</span>
        <span class="n">should_execute</span><span class="o">=</span><span class="n">_should_execute</span><span class="p">,</span>
        <span class="n">pre_traverse_func</span><span class="o">=</span><span class="n">sync_pre</span><span class="p">,</span>
        <span class="n">post_traverse_func</span><span class="o">=</span><span class="n">sync_post</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">with</span> <span class="n">file_load_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
        <span class="n">context</span><span class="o">.</span><span class="n">push_new_parent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_absolute_anchor_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relative_mode</span><span class="p">)</span>
        <span class="n">traverser</span><span class="o">.</span><span class="n">traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.ModelSaveSettings" class="doc doc-heading">
            <code>ModelSaveSettings</code>


<a href="#hydrolib.core.base.models.ModelSaveSettings" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>A class that holds the global settings for model saving.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ModelSaveSettings</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class that holds the global settings for model saving.&quot;&quot;&quot;</span>

    <span class="n">_os_path_style</span> <span class="o">=</span> <span class="n">get_path_style_for_current_operating_system</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">path_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PathStyle</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exclude_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a new instance of the ModelSaveSettings class.</span>

<span class="sd">        Args:</span>
<span class="sd">            path_style (Optional[PathStyle], optional): Which file path style to use when saving the model. Defaults to the path style that matches the current operating system.</span>
<span class="sd">            exclude_unset (bool, optional): Whether or not to exclude unset values when saving the model. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">path_style</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">path_style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_os_path_style</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_path_style</span> <span class="o">=</span> <span class="n">path_style</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_unset</span> <span class="o">=</span> <span class="n">exclude_unset</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">path_style</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PathStyle</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the path style setting.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PathStyle: Which path style is used to save the files.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_style</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.base.models.ModelSaveSettings.path_style" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">path_style</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#hydrolib.core.base.models.ModelSaveSettings.path_style" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Gets the path style setting.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PathStyle</code></td>            <td>
                  <code><span title="hydrolib.core.base.utils.PathStyle">PathStyle</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which path style is used to save the files.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.ModelSaveSettings.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">path_style</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.ModelSaveSettings.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initializes a new instance of the ModelSaveSettings class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path_style</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="hydrolib.core.base.utils.PathStyle">PathStyle</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which file path style to use when saving the model. Defaults to the path style that matches the current operating system.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exclude_unset</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to exclude unset values when saving the model. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">path_style</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PathStyle</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exclude_unset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes a new instance of the ModelSaveSettings class.</span>

<span class="sd">    Args:</span>
<span class="sd">        path_style (Optional[PathStyle], optional): Which file path style to use when saving the model. Defaults to the path style that matches the current operating system.</span>
<span class="sd">        exclude_unset (bool, optional): Whether or not to exclude unset values when saving the model. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">path_style</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">path_style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_os_path_style</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_path_style</span> <span class="o">=</span> <span class="n">path_style</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_unset</span> <span class="o">=</span> <span class="n">exclude_unset</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.ModelTreeTraverser" class="doc doc-heading">
            <code>ModelTreeTraverser</code>


<a href="#hydrolib.core.base.models.ModelTreeTraverser" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Generic">Generic</span>[<span title="hydrolib.core.base.models.TAcc">TAcc</span>]</code></p>


        <p>ModelTreeTraverser is responsible for traversing a ModelTree using the provided
functions.</p>
<p>The ModelTreeTraverser will only traverse BaseModel and derived objects.
Type parameter TAcc defines the type of Accumulator to be used.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ModelTreeTraverser</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">TAcc</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ModelTreeTraverser is responsible for traversing a ModelTree using the provided</span>
<span class="sd">    functions.</span>

<span class="sd">    The ModelTreeTraverser will only traverse BaseModel and derived objects.</span>
<span class="sd">    Type parameter TAcc defines the type of Accumulator to be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">should_traverse</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">should_execute</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pre_traverse_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="n">TAcc</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">post_traverse_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="n">TAcc</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new ModelTreeTraverser with the given functions.</span>

<span class="sd">        If a predicate it is not defined, it is assumed to always be true, i.e. we will</span>
<span class="sd">        always traverse to the next node, or always execute the traverse functions.</span>

<span class="sd">        If a traverse function is not defined, it will be skipped.</span>

<span class="sd">        The traverse functions share an accumulator, i.e. the accumulator argument</span>
<span class="sd">        is passed through all evaluated traverse functions. It is expected that the</span>
<span class="sd">        traverse function return the (potentially) changed accumulator.</span>

<span class="sd">        Args:</span>
<span class="sd">            should_traverse (Optional[Callable[[BaseModel, TAcc], bool]], optional):</span>
<span class="sd">                Function to evaluate whether to traverse to the provided BaseModel. Defaults to None.</span>
<span class="sd">            should_execute (Optional[Callable[[BaseModel, TAcc], bool]], optional):</span>
<span class="sd">                Function to evaluate whether to execute the traverse functions for the</span>
<span class="sd">                provided BaseModel. Defaults to None.</span>
<span class="sd">            pre_traverse_func (Callable[[BaseModel, TAcc], TAcc], optional):</span>
<span class="sd">                Traverse function executed before we traverse into the next BaseModel,</span>
<span class="sd">                i.e. top-down traversal. Defaults to None.</span>
<span class="sd">            post_traverse_func (Callable[[BaseModel, TAcc], TAcc], optional):</span>
<span class="sd">                Traverse function executed after we traverse into the next BaseModel,</span>
<span class="sd">                i.e. bottom-up traversal. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_should_traverse_func</span> <span class="o">=</span> <span class="n">should_traverse</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_func</span> <span class="o">=</span> <span class="n">should_execute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_traverse_func</span> <span class="o">=</span> <span class="n">pre_traverse_func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_post_traverse_func</span> <span class="o">=</span> <span class="n">post_traverse_func</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_should_execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">TAcc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_func</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_func</span><span class="p">(</span>
            <span class="n">model</span><span class="p">,</span> <span class="n">acc</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_should_execute_pre</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">TAcc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_traverse_func</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_should_execute_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">TAcc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_traverse_func</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_should_traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">TAcc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_should_traverse_func</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_traverse_func</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">TAcc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TAcc</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Traverse the model tree of BaseModels including the model as the root, with</span>
<span class="sd">        the provided state of the acc and return the final accumulator.</span>

<span class="sd">        The actual executed functions as well as the predicates defining whether these</span>
<span class="sd">        functions should be executed for this model as well as whether child BaseModel</span>
<span class="sd">        objects should be traversed are provided in the constructor of the</span>
<span class="sd">        ModelTreeTraverser.</span>

<span class="sd">        The final accumulator is returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            model (BaseModel):</span>
<span class="sd">                The root model in which the traversal of the model tree starts.</span>
<span class="sd">            acc (TAcc):</span>
<span class="sd">                The current accumulator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            TAcc: The accumulator after the traversal of the model tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_pre</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">):</span>
            <span class="n">acc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_traverse_func</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>

        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_traverse</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">acc</span><span class="p">):</span>
                    <span class="n">acc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">traverse</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_post</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">):</span>
            <span class="n">acc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_traverse_func</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>

        <span class="k">return</span> <span class="n">acc</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.ModelTreeTraverser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">should_traverse</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">should_execute</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pre_traverse_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">post_traverse_func</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.ModelTreeTraverser.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Create a new ModelTreeTraverser with the given functions.</p>
<p>If a predicate it is not defined, it is assumed to always be true, i.e. we will
always traverse to the next node, or always execute the traverse functions.</p>
<p>If a traverse function is not defined, it will be skipped.</p>
<p>The traverse functions share an accumulator, i.e. the accumulator argument
is passed through all evaluated traverse functions. It is expected that the
traverse function return the (potentially) changed accumulator.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>should_traverse</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a>, <span title="hydrolib.core.base.models.TAcc">TAcc</span>], <span title="bool">bool</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function to evaluate whether to traverse to the provided BaseModel. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>should_execute</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a>, <span title="hydrolib.core.base.models.TAcc">TAcc</span>], <span title="bool">bool</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function to evaluate whether to execute the traverse functions for the
provided BaseModel. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pre_traverse_func</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a>, <span title="hydrolib.core.base.models.TAcc">TAcc</span>], <span title="hydrolib.core.base.models.TAcc">TAcc</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Traverse function executed before we traverse into the next BaseModel,
i.e. top-down traversal. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>post_traverse_func</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a>, <span title="hydrolib.core.base.models.TAcc">TAcc</span>], <span title="hydrolib.core.base.models.TAcc">TAcc</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Traverse function executed after we traverse into the next BaseModel,
i.e. bottom-up traversal. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">should_traverse</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">should_execute</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pre_traverse_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="n">TAcc</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">post_traverse_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">TAcc</span><span class="p">],</span> <span class="n">TAcc</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new ModelTreeTraverser with the given functions.</span>

<span class="sd">    If a predicate it is not defined, it is assumed to always be true, i.e. we will</span>
<span class="sd">    always traverse to the next node, or always execute the traverse functions.</span>

<span class="sd">    If a traverse function is not defined, it will be skipped.</span>

<span class="sd">    The traverse functions share an accumulator, i.e. the accumulator argument</span>
<span class="sd">    is passed through all evaluated traverse functions. It is expected that the</span>
<span class="sd">    traverse function return the (potentially) changed accumulator.</span>

<span class="sd">    Args:</span>
<span class="sd">        should_traverse (Optional[Callable[[BaseModel, TAcc], bool]], optional):</span>
<span class="sd">            Function to evaluate whether to traverse to the provided BaseModel. Defaults to None.</span>
<span class="sd">        should_execute (Optional[Callable[[BaseModel, TAcc], bool]], optional):</span>
<span class="sd">            Function to evaluate whether to execute the traverse functions for the</span>
<span class="sd">            provided BaseModel. Defaults to None.</span>
<span class="sd">        pre_traverse_func (Callable[[BaseModel, TAcc], TAcc], optional):</span>
<span class="sd">            Traverse function executed before we traverse into the next BaseModel,</span>
<span class="sd">            i.e. top-down traversal. Defaults to None.</span>
<span class="sd">        post_traverse_func (Callable[[BaseModel, TAcc], TAcc], optional):</span>
<span class="sd">            Traverse function executed after we traverse into the next BaseModel,</span>
<span class="sd">            i.e. bottom-up traversal. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_should_traverse_func</span> <span class="o">=</span> <span class="n">should_traverse</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_func</span> <span class="o">=</span> <span class="n">should_execute</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pre_traverse_func</span> <span class="o">=</span> <span class="n">pre_traverse_func</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_post_traverse_func</span> <span class="o">=</span> <span class="n">post_traverse_func</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="hydrolib.core.base.models.ModelTreeTraverser.traverse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">traverse</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span></code>

<a href="#hydrolib.core.base.models.ModelTreeTraverser.traverse" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Traverse the model tree of BaseModels including the model as the root, with
the provided state of the acc and return the final accumulator.</p>
<p>The actual executed functions as well as the predicates defining whether these
functions should be executed for this model as well as whether child BaseModel
objects should be traversed are provided in the constructor of the
ModelTreeTraverser.</p>
<p>The final accumulator is returned.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The root model in which the traversal of the model tree starts.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>acc</code>
            </td>
            <td>
                  <code><span title="hydrolib.core.base.models.TAcc">TAcc</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current accumulator.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>TAcc</code></td>            <td>
                  <code><span title="hydrolib.core.base.models.TAcc">TAcc</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The accumulator after the traversal of the model tree.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">acc</span><span class="p">:</span> <span class="n">TAcc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TAcc</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Traverse the model tree of BaseModels including the model as the root, with</span>
<span class="sd">    the provided state of the acc and return the final accumulator.</span>

<span class="sd">    The actual executed functions as well as the predicates defining whether these</span>
<span class="sd">    functions should be executed for this model as well as whether child BaseModel</span>
<span class="sd">    objects should be traversed are provided in the constructor of the</span>
<span class="sd">    ModelTreeTraverser.</span>

<span class="sd">    The final accumulator is returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        model (BaseModel):</span>
<span class="sd">            The root model in which the traversal of the model tree starts.</span>
<span class="sd">        acc (TAcc):</span>
<span class="sd">            The current accumulator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        TAcc: The accumulator after the traversal of the model tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_pre</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">):</span>
        <span class="n">acc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_traverse_func</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>

    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_traverse</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">acc</span><span class="p">):</span>
                <span class="n">acc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">traverse</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_should_execute_post</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">):</span>
        <span class="n">acc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_traverse_func</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>

    <span class="k">return</span> <span class="n">acc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.ParsableFileModel" class="doc doc-heading">
            <code>ParsableFileModel</code>


<a href="#hydrolib.core.base.models.ParsableFileModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="FileModel (hydrolib.core.base.models.FileModel)" href="#hydrolib.core.base.models.FileModel">FileModel</a></code></p>


        <p>ParsableFileModel defines a FileModel which can be parsed
and serialized with a serializer .</p>
<p>Each ParsableFileModel has a default _filename and _ext,
which are used to generate the file name of any instance where
the filepath is not (yet) set.</p>
<p>Children of the ParsableFileModel are expected to implement a
serializer function which takes a Path and Dict and writes the
ParsableFileModel to disk, and a parser function which takes
a Path and outputs a Dict.</p>
<p>If more complicated solutions are required, a ParsableFileModel
child can also opt to overwrite the _serialize and _parse methods,
to skip the _get_serializer and _get_parser methods respectively.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ParsableFileModel</span><span class="p">(</span><span class="n">FileModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ParsableFileModel defines a FileModel which can be parsed</span>
<span class="sd">    and serialized with a serializer .</span>

<span class="sd">    Each ParsableFileModel has a default _filename and _ext,</span>
<span class="sd">    which are used to generate the file name of any instance where</span>
<span class="sd">    the filepath is not (yet) set.</span>

<span class="sd">    Children of the ParsableFileModel are expected to implement a</span>
<span class="sd">    serializer function which takes a Path and Dict and writes the</span>
<span class="sd">    ParsableFileModel to disk, and a parser function which takes</span>
<span class="sd">    a Path and outputs a Dict.</span>

<span class="sd">    If more complicated solutions are required, a ParsableFileModel</span>
<span class="sd">    child can also opt to overwrite the _serialize and _parse methods,</span>
<span class="sd">    to skip the _get_serializer and _get_parser methods respectively.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">serializer_config</span><span class="p">:</span> <span class="n">SerializerConfig</span> <span class="o">=</span> <span class="n">SerializerConfig</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="c1"># Make this lazy in some cases so it doesn&#39;t become slow</span>
        <span class="k">if</span> <span class="n">filepath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File: `</span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">` not found, skipped parsing.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save the data of this FileModel.</span>

<span class="sd">        _save provides a hook for child models to overwrite the save behaviour as</span>
<span class="sd">        called during the tree traversal.</span>

<span class="sd">        Args:</span>
<span class="sd">            save_settings (ModelSaveSettings): The model save settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_serialize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span> <span class="n">save_settings</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">:</span> <span class="n">ModelSaveSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes the data to file. Should not be called directly, only through `_save`.</span>

<span class="sd">        Args:</span>
<span class="sd">            save_settings (ModelSaveSettings): The model save settings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolved_filepath</span>
        <span class="k">if</span> <span class="n">path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Do we need to add a warning / exception here</span>
            <span class="k">return</span>

        <span class="n">path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_serializer</span><span class="p">()(</span><span class="n">path</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">serializer_config</span><span class="p">,</span> <span class="n">save_settings</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;exclude&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exclude_fields</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_exclude_fields</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A set containing the field names that should not be serialized.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;filepath&quot;</span><span class="p">,</span> <span class="s2">&quot;serializer_config&quot;</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_parse</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_parser</span><span class="p">()(</span><span class="n">path</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_filename</span><span class="p">(),</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_ext</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}{</span><span class="n">ext</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_filename</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;test&quot;</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_ext</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;.test&quot;</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_serializer</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Path</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">SerializerConfig</span><span class="p">,</span> <span class="n">ModelSaveSettings</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">DummySerializer</span><span class="o">.</span><span class="n">serialize</span>

    <span class="nd">@abstractclassmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_parser</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Path</span><span class="p">],</span> <span class="n">Dict</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">DummmyParser</span><span class="o">.</span><span class="n">parse</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filepath&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">filepath</span><span class="o">.</span><span class="n">name</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_get_quantity_unit</span><span class="p">(</span><span class="n">quantities_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Maps each quantity in the input list to a specific unit based on its content.</span>

<span class="sd">        Args:</span>
<span class="sd">            quantities_names (list of str): A list of strings to be checked for specific keywords.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of str: A list of corresponding units for each input string.</span>

<span class="sd">        Examples:</span>
<span class="sd">            ```python</span>
<span class="sd">            &gt;&gt;&gt; quantities_names = [&quot;discharge&quot;, &quot;waterlevel&quot;, &quot;salinity&quot;, &quot;temperature&quot;]</span>
<span class="sd">            &gt;&gt;&gt; ParsableFileModel._get_quantity_unit(quantities_names)</span>
<span class="sd">            [&#39;m3/s&#39;, &#39;m&#39;, &#39;1e-3&#39;, &#39;degC&#39;]</span>

<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Define the mapping of keywords to units</span>
        <span class="n">unit_mapping</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;discharge&quot;</span><span class="p">:</span> <span class="s2">&quot;m3/s&quot;</span><span class="p">,</span>
            <span class="s2">&quot;waterlevel&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span>
            <span class="s2">&quot;salinity&quot;</span><span class="p">:</span> <span class="s2">&quot;1e-3&quot;</span><span class="p">,</span>
            <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="s2">&quot;degC&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="c1"># Generate the list of units based on the mapping</span>
        <span class="n">units</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">quantities_names</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">keyword</span><span class="p">,</span> <span class="n">unit</span> <span class="ow">in</span> <span class="n">unit_mapping</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">units</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unit</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Append &quot;-&quot; if no keywords match</span>
                <span class="n">units</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">units</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="hydrolib.core.base.models.SerializerConfig" class="doc doc-heading">
            <code>SerializerConfig</code>


<a href="#hydrolib.core.base.models.SerializerConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseModel (hydrolib.core.base.models.BaseModel)" href="#hydrolib.core.base.models.BaseModel">BaseModel</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Class that holds the configuration settings for serialization.</p>






              <details class="quote">
                <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SerializerConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class that holds the configuration settings for serialization.&quot;&quot;&quot;</span>

    <span class="n">float_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;str: The string format that will be used for float serialization. If empty, the original number will be serialized. Defaults to an empty string.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Input value = 123.456</span>

<span class="sd">            Format    | Output          | Description</span>
<span class="sd">            -------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="sd">            &quot;.0f&quot;     | 123             | Format float with 0 decimal places.</span>
<span class="sd">            &quot;f&quot;       | 123.456000      | Format float with default (=6) decimal places.</span>
<span class="sd">            &quot;.2f&quot;     | 123.46          | Format float with 2 decimal places.</span>
<span class="sd">            &quot;+.1f&quot;    | +123.5          | Format float with 1 decimal place with a + or  sign.</span>
<span class="sd">            &quot;e&quot;       | 1.234560e+02    | Format scientific notation with the letter &#39;e&#39; with default (=6) decimal places.</span>
<span class="sd">            &quot;E&quot;       | 1.234560E+02    | Format scientific notation with the letter &#39;E&#39; with default (=6) decimal places.</span>
<span class="sd">            &quot;.3e&quot;     | 1.235e+02       | Format scientific notation with the letter &#39;e&#39; with 3 decimal places.</span>
<span class="sd">            &quot;&lt;15&quot;     | 123.456         | Left aligned in space with width 15</span>
<span class="sd">            &quot;^15.0f&quot;  |       123       | Center aligned in space with width 15 with 0 decimal places.</span>
<span class="sd">            &quot;&gt;15.1e&quot;  |         1.2e+02 | Right aligned in space with width 15 with scientific notation with 1 decimal place.</span>
<span class="sd">            &quot;*&gt;15.1f&quot; | **********123.5 | Right aligned in space with width 15 with 1 decimal place and fill empty space with *</span>
<span class="sd">            &quot;%&quot;       | 12345.600000%   | Format percentage with default (=6) decimal places.</span>
<span class="sd">            &quot;.3%&quot;     | 12345.600%      | Format percentage with 3 decimal places.</span>

<span class="sd">            More information: https://docs.python.org/3/library/string.html#format-specification-mini-language</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="hydrolib.core.base.models.SerializerConfig.float_format" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">float_format</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#hydrolib.core.base.models.SerializerConfig.float_format" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>str: The string format that will be used for float serialization. If empty, the original number will be serialized. Defaults to an empty string.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Input value = 123.456</p>
<h5 id="hydrolib.core.base.models.SerializerConfig.float_format--format-output-description">Format    | Output          | Description<a class="headerlink" href="#hydrolib.core.base.models.SerializerConfig.float_format--format-output-description" title="Permanent link">&para;</a></h5>
<p>".0f"     | 123             | Format float with 0 decimal places.
"f"       | 123.456000      | Format float with default (=6) decimal places.
".2f"     | 123.46          | Format float with 2 decimal places.
"+.1f"    | +123.5          | Format float with 1 decimal place with a + or  sign.
"e"       | 1.234560e+02    | Format scientific notation with the letter 'e' with default (=6) decimal places.
"E"       | 1.234560E+02    | Format scientific notation with the letter 'E' with default (=6) decimal places.
".3e"     | 1.235e+02       | Format scientific notation with the letter 'e' with 3 decimal places.
"&lt;15"     | 123.456         | Left aligned in space with width 15
"^15.0f"  |       123       | Center aligned in space with width 15 with 0 decimal places.
"&gt;15.1e"  |         1.2e+02 | Right aligned in space with width 15 with scientific notation with 1 decimal place.
"<em>&gt;15.1f" | </em><strong><em>*</em></strong>**123.5 | Right aligned in space with width 15 with 1 decimal place and fill empty space with *
"%"       | 12345.600000%   | Format percentage with default (=6) decimal places.
".3%"     | 12345.600%      | Format percentage with 3 decimal places.</p>
<p>More information: https://docs.python.org/3/library/string.html#format-specification-mini-language</p>
    </div>

</div>





  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="hydrolib.core.base.models.validator_set_default_disk_only_file_model_when_none" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validator_set_default_disk_only_file_model_when_none</span><span class="p">()</span></code>

<a href="#hydrolib.core.base.models.validator_set_default_disk_only_file_model_when_none" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Validator to ensure a default empty DiskOnlyFileModel is created
when the corresponding field is initialized with None.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>classmethod</code></td>            <td>
                  <code><span title="classmethod">classmethod</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Validator to adjust None values to empty DiskOnlyFileModel objects</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>hydrolib/core/base/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validator_set_default_disk_only_file_model_when_none</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">classmethod</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validator to ensure a default empty DiskOnlyFileModel is created</span>
<span class="sd">    when the corresponding field is initialized with None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        classmethod: Validator to adjust None values to empty DiskOnlyFileModel objects</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">adjust_none</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="s2">&quot;ModelField&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">type_</span> <span class="ow">is</span> <span class="n">DiskOnlyFileModel</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;filepath&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="k">return</span> <span class="n">validator</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">allow_reuse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">adjust_none</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Deltares
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Deltares/hydrolib-core" target="_blank" rel="noopener" title="Source code" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://gitter.im/Deltares/hydrolib" target="_blank" rel="noopener" title="Chat with us on Gitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4zM166.9 76.1h-50.4V512h50.4zm100.6 0h-50.4V512h50.4zM368 76h-50.4v247H368z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>