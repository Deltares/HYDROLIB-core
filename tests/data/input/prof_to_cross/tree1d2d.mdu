# D-Flow FM mdu-file, generated by Matlab on 11:31:44, 20-08-2015.
# This standardized mdu-file is intended to only be used for the testbench.

[general]
Program                              = D-Flow FM                             # The program
Version                              = 1.1.148.41436                         # The version of the program
MDUFormatVersion                     = 1.02                                  # File format version. Do not edit this.
AutoStart                            = 0                                     # Autostart simulation after loading MDU or not (0=no, 1=autostart, 2=autostartstop).
 
[geometry]
NetFile                              = tree1d2d_net.nc                       # *_net.nc
BathymetryFile                       =                                       # *.xyb
DryPointsFile                        =                                       # Dry points file *.xyz, third column dummy z values, or polygon file *.pol with 3 columns: z value specifies inside/outside: 1/-1.
WaterLevIniFile                      =                                       # Initial water levels sample file *.xyz
LandBoundaryFile                     =                                       # Only for plotting
ThinDamFile                          =                                       # *_thd.pli, Polyline(s) for tracing thin dams.
FixedWeirFile                        =                                       # *_fxw.pliz, Polyline(s) x,y,z, z = fixed weir top levels (formerly fixed weir)
VertplizFile                         =                                       # *_vlay.pliz), = pliz with x,y, Z, first Z =nr of layers, second Z = laytyp
ProflocFile                          = profloc_withxyz.xyz                   # *_proflocation.xyz)    x,y,z, z = profile refnumber
ProfdefFile                          = profdef_withxyz.txt                   # *_profdefinition.def) definition for all profile nrs
ProfdefxyzFile                       = profdefxyz.pliz                       # *_profdefinition.def) definition for all profile nrs
StructureFile                        =                                       # *.ini, Structure definitions file
ManholeFile                          =                                       # File containing manholes (e.g. *.ini)
PartitionFile                        =                                       # *_part.pol, polyline(s) x,y
Uniformwidth1D                       = 2.                                    # Uniform width for 1D profiles not specified bij profloc
WaterLevIni                          = -10.                                  # Initial water level
Bedlevuni                            = -5.                                   # Uniform bottom level, (only if bedlevtype>=3, used at missing z values in netfile
Bedslope                             = 0.                                    # bedslopeinclination, sets zk = bedlevuni + x*bedslope ans sets zbndz = xbndz*bedslope
BedlevType                           = 3                                     # 1: at cell center (tiles xz,yz,bl,bob=max(bl)), 2: at face (tiles xu,yu,blu,bob=blu), 3: at face (using mean node values), 4: at face (using min node values), 5: at face (using max node values), 6: with bl based on node values
Blmeanbelow                          = -999.                                 # if not -999d0, below this level the cell centre bedlevel is the mean of surrouding netnodes
Blminabove                           = -999.                                 # if not -999d0, above this level the cell centre bedlevel is the min of surrouding netnodes
AngLat                               = 0.                                    # Angle of latitude  S-N (deg), 0=no Coriolis
AngLon                               = 0.                                    # Angle of longitude E-W (deg), 0=Greenwich
Conveyance2D                         = -1                                    # -1:R=HU,0:R=H, 1:R=A/P, 2:K=analytic-1D conv, 3:K=analytic-2D conv
Nonlin2D                             = 0                                     # Non-linear 2D volumes, only icm ibedlevtype = 3 and Conveyance2D>=1
Sillheightmin                        = 0.5                                   # Weir treatment only if both sills larger than this value (m)
Makeorthocenters                     = 0                                     # 1=yes, 0=no switch from circumcentres to orthocentres in geominit
Dcenterinside                        = 1.                                    # limit cell center; 1.0:in cell <-> 0.0:on c/g
Bamin                                = 1.d-6                                 # Minimum gridcell area , icm cutcells
OpenBoundaryTolerance                = 3.                                    # Search tolerance factor between boundary polyline and grid cells. Unit: in cell size units (i.e., not metres).
RenumberFlowNodes                    = 1                                     # Switch on or off (1/0) the renumbering of flow nodes for slight speedup.
Kmx                                  = 0                                     # Max nr of vertical layers
Layertype                            = 1                                     # 1= all sigma, 2 = all z, 3 = use VertplizFile
Numtopsig                            = 0                                     # Nr of sigmalayers in top of Zlayer model
SigmaGrowthFactor                    = 1.                                    # layer thickness growth factor from bed up
 
[numerics]
CFLMax                               = 0.7                                   # Max. Courant nr.
AdvecType                            = 3                                     # Adv type, 0=no, 1= Wenneker, qu-udzt, 2=1, q(uio-u), 3=Perot q(uio-u), 4=Perot q(ui-u), 5=Perot q(ui-u) without itself
Lincontin                            = 0                                     # Default 0; Set to 1 for linearizing d(Hu)/dx; link to AdvecType
TimeStepType                         = 2                                     #  0=only transport, 1=transport + velocity update, 2=full implicit step_reduce, 3=step_jacobi, 4=explicit
Limtyphu                             = 0                                     # Limiter type for waterdepth in continuity eq., 0=no, 1=minmod,2=vanLeer,3=Kooren,4=Monotone Central
Limtypmom                            = 4                                     # Limiter type for cell center advection velocity, 0=no, 1=minmod,2=vanLeer,3=Kooren,4=Monotone Central
Limtypsa                             = 0                                     # Limiter type for salinity transport,           0=no, 1=minmod,2=vanLeer,3=Kooren,4=Monotone Central
TransportMethod                      = 1                                     # Transport method, 0=Herman method, 1=Sander method
Vertadvtypsal                        = 5                                     # Vertical advection type for salinity, 0=No, 1=UpwexpL, 2=Centralexpl, 3=UpwimpL, 4=CentraLimpL, 5=4 but 3 for neg. stratif., 6=higher order expl, no forester
Horadvtypzlayer                      = 0                                     # Horizontal advection treatment zlayer, 1=default, 2 = Sigma like
Icgsolver                            = 1                                     # Solver type , 1 = sobekGS_OMP, 2 = sobekGS_OMPthreadsafe, 3 = sobekGS, 4 = sobekGS + Saadilud, 5 = parallel/global Saad, 6 = parallel/Petsc, 7 = parallel/GS
Maxdegree                            = 6                                     # Maximum degree in Gauss elimination
FixedWeirScheme                      = 0                                     # 0 = no, 1 = compact stencil, 2 = whole tile lifted, full subgrid weir + factor
FixedWeirContraction                 = 1.                                    # flow width = flow width*FixedWeirContraction
Fixedweirfrictscheme                 = 1                                     # Fixed weir friction scheme (0: friction based on hu, 1: friction based on subgrid weir friction scheme)
Fixedweirtopwidth                    = 3.                                    # Uniform width of the groyne part of fixed weirs
Fixedweirtopfrictcoef                = -999.                                 # Uniform friction coefficient of the groyne part of fixed weirs
Fixedweirtalud                       = 0.25                                  # Uniform talud slope of fixed weirs
Izbndpos                             = 0                                     # Position of z boundary, 0=D3Dflow, 1=on net boundary, 2 = on specifiend polyline
Tlfsmo                               = 0.                                    # Fourier smoothing time on waterlevel boundaries (s)
Slopedrop2D                          = 0.                                    # Apply droplosses only if local bottom slope > Slopedrop2D, <=0 =no droplosses
Drop3D                               = 0.                                    # Apply droplosses in 3D if z upwind below bob + 2/3 hu*drop3D
Chkadvd                              = 0.1                                   # Check advection terms if depth < chkadvdp, => less setbacks
Teta0                                = 0.550000011920929                     # Teta of time integration, 0.5 < Teta < 1d0
Qhrelax                              = 1.d-2                                 # Relaxation qhbnd ( )
Jbasqbnddownwindhs                   = 0                                     # 0 : original hu on qbnd, 1 = downwind hs on qbnd
cstbnd                               = 0                                     # Delft-3D type velocity treatment near boundaries for small coastal models (1) or not (0)
Maxitverticalforestersal             = 100                                   # 0 : no vertical filter, > 0 = Max nr of iterations
Maxitverticalforestertem             = 0                                     # 0 : no vertical filter for temp, > 0 = Max nr of iterations
Jaorgsethu                           = 1                                     # Velocity reconstruction scheme (0 : setumod, sethu, setau sequence, 1 : sethu, setau, setumod sequence (standard))
Turbulencemodel                      = 3                                     # 0=no, 1 = constant, 2 = algebraic, 3 = k-eps, 4 = k-tau
Turbulenceadvection                  = 3                                     # 0=no, 3 = hor. expl., vert. impl.
AntiCreep                            = 0                                     # Include anti-creep calculation, (0=no, 1=yes)
Maxwaterleveldiff                    = 0.                                    # upper bound (in m) on water level changes, <= 0: no bounds
Maxvelocitydiff                      = 0.                                    # upper bound (in m/s) on velocity changes, <= 0: no bounds
Epshu                                = 1.d-4                                 # Input for threshold water depth for wet and dry cells
 
[physics]
UnifFrictCoef                        = 2.3d-2                                # Uniform friction coefficient, 0=no friction
UnifFrictType                        = 1                                     # 0=Chezy, 1=Manning, 2=White Colebrook, 3=idem, WAQUA style
UnifFrictCoef1D                      = 2.3d-2                                # Uniform friction coefficient in 1D links, 0=no friction
UnifFrictCoefLin                     = 0.                                    # Uniform linear friction coefficient for ocean models (m/s), 0=no
Umodlin                              = 0                                     # Use 1 for linear friction umod, for ifrctyp=4,5,6
Vicouv                               = 0.                                    # Uniform horizontal eddy viscosity (m2/s)
Dicouv                               = 1.                                    # Uniform horizontal eddy diffusivity (m2/s)
Vicoww                               = 0.                                    # Uniform vertical eddy viscosity  (m2/s)
Dicoww                               = 5.d-5                                 # Uniform vertical eddy diffusivity  (m2/s)
Vicwminb                             = 0.                                    # Minimum visc in prod and buoyancy term (m2/s)
Smagorinsky                          = 0.                                    # Add Smagorinsky horizontal turbulence : vicu = vicu + ( (Smagorinsky*dx)**2)*S, e.g. 0.1
Elder                                = 0.                                    # Add Elder contribution                : vicu = vicu + Elder*kappa*ustar*H/6),   e.g. 1.0
irov                                 = 0                                     # 0=free slip, 1 = partial slip using wall_ks
wall_ks                              = 0.                                    # Nikuradse roughness for side walls, wall_z0=wall_ks/30
Rhomean                              = 1000.                                 # Average water density (kg/m3)
Idensform                            = 0                                     # Density calulation (0: uniform, 1: Eckard, 2: Unesco, 3: baroclinic case)
Ag                                   = 9.81                                  # Gravitational acceleration
TidalForcing                         = 1                                     # Tidal forcing (0=no, 1=yes) (only for jsferic == 1)
Doodsonstart                         = 55.565                                # TRIWAQ =  55.565D0     , D3D =  57.555D0
Doodsonstop                          = 375.575                               # TRIWAQ = 375.575D0     , D3D = 275.555D0
Doodsoneps                           = 3.d-2                                 # TRIWAQ = 0.0  400 cmps , D3D = 0.03   60 cmps
Salinity                             = 0                                     # Include salinity, (0=no, 1=yes)
InitialSalinity                      = 0.                                    # Inital salinity concentration (ppt)
Sal0abovezlev                        = -999.                                 # Salinity 0 above level (m)
DeltaSalinity                        = -999.                                 # for testcases
Backgroundsalinity                   = 30.                                   # For eq of state (ppt)
Backgroundwatertemperature           = 6.                                    # For eq of state (deg C)
Temperature                          = 0                                     # Include temperature, (0=no, 1=only transport, 3=excess model of D3D, 5=heat flux model (5) of D3D)
InitialTemperature                   = 6.                                    # Inital temperature (degC)
Secchidepth                          = 1.                                    # Water clarity parameter (m)
Stanton                              = -1.                                   # Coefficient for convective heat flux ( ) , if negative, Cd wind*abs(Stanton)
Dalton                               = -1.                                   # Coefficient for evaporative heat flux ( ), if negative, Cd wind*abs(Dalton)
SecondaryFlow                        = 0                                     # Secondary flow (0=no, 1=yes)
EffectSpiral                         = 0.                                    # Factor for weighing the effect of the spiral flow intensity on transport angle
BetaSpiral                           = 0.                                    # Factor for weighing the effect of the spiral flow on flow dispersion stresses
 
[grw]
Conductivity                         = 0.                                    # non dimensionless K conductivity   saturated (m/s), Q = K*A*i (m3/s)
h_aquiferuni                         = 20.                                   # uniform height of carrying layer (m)
h_unsatini                           = 0.200000002980232                     # initial level groundwater is bedlevel - h_unsatini (m)
 
[wind]
ICdtyp                               = 2                                     # ( ),1=const, 2=S&B 2 breakpoints, 3= S&B 3 breakpoints, 4=Charnock constant
Cdbreakpoints                        = 6.3d-4 7.23d-3                        # ( ),   e.g. 0.00063  0.00723
Windspeedbreakpoints                 = 0. 100.                               # (m/s), e.g. 0.0      100.0
Rhoair                               = 1.20000004768372                      # Air density (kg/m3)
PavBnd                               = 0.                                    # Average air pressure on open boundaries, (N/m2), only applied if value > 0
PavIni                               = 0.                                    # Average air pressure for initial water level correction (N/m2) (only applied if > 0)
Gapres                               = 101325.                               # Only relevant for Spiderweb:  Global Atmospheric Pressure, (N/m2)
 
[waves]
Wavemodelnr                          = 0                                     # Wave model nr, 0=no, 1=fetch/depth limited hurdlestive, 2=youngverhagen, 3 = Delft3D-WAVE, 4=wave group forcing
WaveNikuradse                        = 1.d-2                                 # Wave friction Nikuradse ks coefficient, used in Krone Swart, e.g. 0.01 m
Rouwav                               =                                       # Friction model for wave induced shear stress
Gammax                               = 1.                                    # Maximum wave height/water depth ratio
 
[time]
RefDate                              = 19920831                              # Reference date (yyyymmdd)
Tzone                                = 0.                                    # Data Sources in GMT are interrogated with time in minutes since refdat-Tzone*60
DtUser                               = 40.                                   # User timestep in seconds (interval for external forcing update & his/map output)
DtNodal                              = 0.                                    # Timestep (days) for updating nodal factors in astronomical boundary conditions
DtMax                                = 40.                                   # Max timestep in seconds
DtInit                               = 1.                                    # Initial timestep in seconds
Tunit                                = S                                     # Time units in MDU (D, H, M or S), only for Tstart and Tstop
TStart                               = 0.                                    # Start time w.r.t. RefDate (in TUnit)
TStop                                = 8640000.                              # Stop  time w.r.t. RefDate (in TUnit)
 
[restart]
RestartFile                          =                                       # Restart file, only from netcdf-file, hence: either *_rst.nc or *_map.nc
RestartDateTime                      =                                       # Restart time (YYYYMMDDHHMMSS), only relevant in case of restart from *_map.nc
 
[external forcing]
ExtForceFile                         = tree1d2d.ext                          # Old format for external forcings file *.ext, link with tim/cmp-format boundary conditions specification
ExtForceFileNew                      =                                       # New format for external forcings file *.ext, link with bc     -format boundary conditions specification
 
[output]
OutputDir                            = dflowfmoutput                         # Output directory of map-, his-, rst-, dat- and timings-files, default: DFM_OUTPUT_<modelname>. Set to . for no dir/current dir.
FlowGeomFile                         =                                       # *_flowgeom.nc Flow geometry file in NetCDF format.
ObsFile                              =                                       # *.xyn Coords+name of observation stations.
CrsFile                              =                                       # *_crs.pli Polyline(s) definining cross section(s).
HisFile                              =                                       # *_his.nc History file in NetCDF format.
HisInterval                          = 120.                                  # History output, given as "interval" "start period" "end period" (s)
XLSInterval                          = 0.                                    # Interval (s) between XLS history
MapFile                              =                                       # *_map.nc Map file in NetCDF format.
MapInterval                          = 0.                                    # Map file output, given as "interval" "start period" "end period" (s)
RstInterval                          = 0.                                    # Restart file output, given as "interval" "start period" "end period" (s)
S1incinterval                        = 0.                                    # Interval (m) in incremental file for waterlevels S1
WaqFileBase                          =                                       # Basename (without extension) for all Delwaq files to be written.
WaqInterval                          = 0.                                    # Interval (in s) between Delwaq file outputs
StatsInterval                        = 0.                                    # Interval (in s) between simulation statistics output.
Writebalancefile                     = 0                                     # Write Balancefile, 1=yes, 0=no
TimingsInterval                      = 0.                                    # Timings output interval
TimeSplitInterval                    = 0X                                    # Time splitting interval, after which a new output file is started. value+unit, e.g. '1 M', valid units: Y,M,D,h,m,s.
MapFormat                            = 1                                     # Map file format, 1: netCDF, 2: Tecplot, 3: netCFD and Tecplot, 4: NetCDF-UGRID
Wrihis_balance                       = 1                                     # Write mass balance totals to his file (1=yes, 0=no)
Wrihis_structure_gen                 = 1                                     # Write general structure parameters to his file (1=yes, 0=no)
Wrihis_structure_dam                 = 1                                     # Write dam parameters to his file (1=yes, 0=no)
Wrihis_structure_pump                = 1                                     # Write pump parameters to his file (1=yes, 0=no)
Wrihis_structure_gate                = 1                                     # Write gate parameters to his file (1=yes, 0=no)
Wrimap_waterlevel_s0                 = 1                                     # Write water levels for previous time step to map file (1=yes, 0=no)
Wrimap_waterlevel_s1                 = 1                                     # Write water levels to map file (1=yes, 0=no)
Wrimap_velocity_component_u0         = 1                                     # Write velocity component for previous time step to map file (1=yes, 0=no)
Wrimap_velocity_component_u1         = 1                                     # Write velocity component to map file (1=yes, 0=no)
Wrimap_velocity_vector               = 1                                     # Write cell-center velocity vectors to map file (1=yes, 0=no)
Wrimap_upward_velocity_component     = 1                                     # Write upward velocity component on cell interfaces (1=yes, 0=no)
Wrimap_density_rho                   = 1                                     # Write flow density to map file (1=yes, 0=no)
Wrimap_horizontal_viscosity_viu      = 1                                     # Write horizontal viscosity to map file (1=yes, 0=no)
Wrimap_horizontal_diffusivity_diu    = 1                                     # Write horizontal diffusivity to map file (1=yes, 0=no)
Wrimap_flow_flux_q1                  = 1                                     # Write flow flux to map file (1=yes, 0=no)
Wrimap_spiral_flow                   = 1                                     # Write spiral flow to map file (1=yes, 0=no)
Wrimap_numlimdt                      = 1                                     # Write the number times a cell was Courant limiting to map file (1=yes, 0=no)
Wrimap_taucurrent                    = 1                                     # Write the shear stress to map file (1=yes, 0=no)
Wrimap_chezy                         = 1                                     # Write the chezy roughness to map file (1=yes, 0=no)
Wrimap_turbulence                    = 1                                     # Write vicww, k and eps to map-file (1=yes, 0=no, default=1)
Wrimap_wind                          = 1                                     # Write wind velocities to map file (1=yes, 0=no)
Wrimap_heat_fluxes                   = 0                                     # Write heat fluxes to map file (1=yes, 0=no)
Richardsononoutput                   = 0                                     # 1=yes,0=no
MapOutputTimeVector                  =                                       # File (.mpt) containing fixed map output times (s) w.r.t. RefDate
FullGridOutput                       = 0                                     # 0:compact, 1:full time-varying grid data
EulerVelocities                      = 0                                     # 0:GLM, 1:Euler velocities
SnapshotDir                          =                                       # Directory where snapshots/screendumps are saved.
 
[trachytopes]
TrtRou                               = N                                     # Include alluvial and vegetation roughness (trachytopes), (N=no, Y=yes)
TrtDef                               =                                       # Filename (*.ttd) including trachytope definitions
Trtl                                 =                                       # Filename (*.arl) including distribution of trachytope definitions
DtTrt                                =                                       # Interval (in s) between trachytope roughness updates
 
